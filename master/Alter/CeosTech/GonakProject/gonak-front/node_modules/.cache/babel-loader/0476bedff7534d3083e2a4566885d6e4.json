{"ast":null,"code":"import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./styles.css';import axios from\"axios\";import{URL,sendrequest}from\"../../../../middlewares/request\";//import { CarteContent } from '../../../../data/site/carteContent';\nimport Grid from'@material-ui/core/Grid';import ShowMoreText from\"react-show-more-text\";import{Button,IconButton,TextField}from\"@material-ui/core\";import{FormControlLabel,FormControl,RadioGroup,Radio,Checkbox}from\"@material-ui/core\";import FormGroup from\"@material-ui/core/FormGroup\";import AddShoppingCartIcon from\"@material-ui/icons/AddShoppingCart\";import{splitPrix}from\"../../../../utilities\";import Modal from\"../MyModal/Modal\";import RemoveIcon from\"@material-ui/icons/Remove\";import AddIcon from\"@material-ui/icons/Add\";import ProduitDetail from\"./produitDetail.js\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CartePage=function CartePage(props){var idMenu=props.idMenuPage;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),produits=_useState2[0],setProduits=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),salades=_useState4[0],setSalades=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pates=_useState6[0],setPates=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),wraps=_useState8[0],setWraps=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),sandwichs=_useState10[0],setSandwichs=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),entrees=_useState12[0],setEntrees=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),desserts=_useState14[0],setDesserts=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),boissons=_useState16[0],setBoissons=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),idModal=_useState18[0],setIdModal=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),show=_useState20[0],setShow=_useState20[1];var fetchProduit=function fetchProduit(){axios.get(URL+\"gonak/produit/?categorie=\"+idMenu).then(function(res){setProduits(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=2\").then(function(res){// Entrée\nsetEntrees(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=3\").then(function(res){// Salade\nsetSalades(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=7\").then(function(res){// Pâte\nsetPates(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=8\").then(function(res){// Wrap\nsetWraps(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=9\").then(function(res){// Sandwich\nsetSandwichs(res.data);console.log(res.data);});axios.get(URL+\"gonak/produit/?categorie=11\").then(function(res){// Desserts\nsetDesserts(res.data);console.log(res.data);});axios.get(URL+\"gonak/ingredient/\").then(function(res){// Boissons\nsetBoissons(res.data);console.log(res.data);});};useEffect(function(){fetchProduit();//console.log(produitsCarte);\n},[]);var handleClose=function handleClose(e){if(e.target.classList.contains(\"myModal__backdrop\")||e.target.classList.contains(\"myModal__modal__close-btn\")||e.target.parentNode.classList.contains(\"myModal__modal__close-btn\")||e.target.parentNode.parentNode.classList.contains(\"myModal__modal__close-btn\")){setShow(false);}};var showMultiplePrice=function showMultiplePrice(data){if(data.categorie===1&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.prix_gourmande+\" €\",\" \"]}),\" \"]});}else if(data.categorie===2&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.pieces_x5+\" €\",\" \"]}),\" \"]});}else if(data.categorie===4&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.sans_accompagnement+\" €\",\" \"]}),\" \"]});}else if(data.categorie===12&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.moyen+\" €\",\" \"]}),\" \"]});}else{return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[data.prix+\" €\",\" \"]}),\" \"]});}};return/*#__PURE__*/_jsx(\"div\",{id:\"menu-page\",children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",justifyContent:\"center\",children:produits.map(function(data){return/*#__PURE__*/_jsx(ProduitDetail,{detail:data,entrees:entrees,salades:salades,pates:pates,wraps:wraps,sandwichs:sandwichs,desserts:desserts,boissons:boissons});})})});};export default CartePage;","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/site/Carte/CartePage/index.js"],"names":["React","useState","useEffect","axios","URL","sendrequest","Grid","ShowMoreText","Button","IconButton","TextField","FormControlLabel","FormControl","RadioGroup","Radio","Checkbox","FormGroup","AddShoppingCartIcon","splitPrix","Modal","RemoveIcon","AddIcon","ProduitDetail","CartePage","props","idMenu","idMenuPage","produits","setProduits","salades","setSalades","pates","setPates","wraps","setWraps","sandwichs","setSandwichs","entrees","setEntrees","desserts","setDesserts","boissons","setBoissons","idModal","setIdModal","show","setShow","fetchProduit","get","then","res","data","console","log","handleClose","e","target","classList","contains","parentNode","showMultiplePrice","categorie","prix","prix_gourmande","pieces_x5","sans_accompagnement","moyen","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './styles.css';\nimport axios from \"axios\";\nimport { URL, sendrequest } from \"../../../../middlewares/request\";\n//import { CarteContent } from '../../../../data/site/carteContent';\nimport Grid from '@material-ui/core/Grid';\nimport ShowMoreText from \"react-show-more-text\";\nimport { Button, IconButton, TextField } from \"@material-ui/core\";\nimport {\n  FormControlLabel,\n  FormControl,\n  RadioGroup,\n  Radio,\n  Checkbox,\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport { splitPrix } from \"../../../../utilities\";\n\nimport Modal from \"../MyModal/Modal\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport ProduitDetail from \"./produitDetail.js\";\n\n\nconst CartePage = (props) => {\n  const idMenu = props.idMenuPage;\n  const [produits, setProduits] = useState([]);\n  const [salades, setSalades] = useState([]);\n  const [pates, setPates] = useState([]);\n  const [wraps, setWraps] = useState([]);\n  const [sandwichs, setSandwichs] = useState([]);\n  const [entrees, setEntrees] = useState([]);\n  const [desserts, setDesserts] = useState([]);\n  const [boissons, setBoissons] = useState([]);\n\n  const [idModal, setIdModal] = useState(1);\n  const [show, setShow] = useState(false);\n\n\n    const fetchProduit = () => {\n      axios.get(URL + \"gonak/produit/?categorie=\" + idMenu).then((res) => {\n        setProduits(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=2\").then((res) => { // Entrée\n        setEntrees(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=3\").then((res) => { // Salade\n        setSalades(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=7\").then((res) => { // Pâte\n        setPates(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=8\").then((res) => { // Wrap\n        setWraps(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=9\").then((res) => { // Sandwich\n        setSandwichs(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/produit/?categorie=11\").then((res) => { // Desserts\n        setDesserts(res.data);\n        console.log(res.data);\n      });\n      axios.get(URL + \"gonak/ingredient/\").then((res) => { // Boissons\n        setBoissons(res.data);\n        console.log(res.data);\n      });\n    };\n\n\n\n    useEffect(() => {\n      fetchProduit();\n      //console.log(produitsCarte);\n    }, []);\n\n    const handleClose = (e) => {\n        if (\n          e.target.classList.contains(\"myModal__backdrop\") ||\n          e.target.classList.contains(\"myModal__modal__close-btn\") ||\n          e.target.parentNode.classList.contains(\"myModal__modal__close-btn\") ||\n          e.target.parentNode.parentNode.classList.contains(\n            \"myModal__modal__close-btn\"\n          )\n        ) {\n          setShow(false);\n      }\n    };\n\n    const showMultiplePrice = (data) => {\n\n      if(data.categorie === 1 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.prix_gourmande + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 2 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.pieces_x5 + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 4 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.sans_accompagnement + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 12 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.moyen + \" €\"} </b> </p>)\n      }\n      else{\n        return (<p><b>{data.prix + \" €\"} </b> </p>)\n      }\n    }\n\n    return(\n        <div id=\"menu-page\">\n                  <Grid container direction=\"row\" justifyContent=\"center\">\n                    { produits.map((data) => (\n                      \n                          <ProduitDetail \n                            detail={data}\n                            entrees={entrees}\n                            salades={salades}\n                            pates={pates}\n                            wraps={wraps}\n                            sandwichs={sandwichs}\n                            desserts={desserts}\n                            boissons={boissons}\n                          /> \n                        \n                    ))}\n                  </Grid>\n        </div>\n\n        \n     \n    );\n};\n export default CartePage;\n"]},"metadata":{},"sourceType":"module"}