{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/menu/Menu.js\",\n    _s = $RefreshSig$();\n\nimport Logo from \"../../../images/logo_petit_m.png\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectAdmin, changePage } from \"../../../app/Redux-slices/adminSlice\";\nimport { useEffect, useState } from \"react\";\nimport \"./menu.css\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Switch, useHistory, useRouteMatch } from \"react-router-dom\";\nimport SwitchBtn from \"../switch/SwitchBtn\";\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\"; //import Admin from \"../../../pages/Admin\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminNav = () => {\n  _s();\n\n  const admin = useSelector(selectAdmin);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    path\n  } = useRouteMatch();\n  const [active, setActive] = useState(false);\n  const [items, setItems] = useState([]);\n  console.log(active); // active\n  //   ? (window.document.body.style.overflow = \"hidden\")\n  //   : (window.document.body.style.overflow = \"auto\");\n\n  const get_restaurant = async () => {\n    const {\n      data\n    } = await axios.get(URL + \"gonak/info_restaurant/\");\n    setItems(data);\n  };\n\n  const deconnexion = async () => {\n    if (window.confirm(\"Êtes-vous sûr de vouloir vous déconnecter ? Cela aura pour conséquence de fermer le restaurant.\")) {\n      await axios.put(URL + \"gonak/info_restaurant/1/\", {\n        disponibilite_restaurant: false\n      });\n      localStorage.removeItem('jwtToken');\n      history.push(\"/\"); // à voir si il y a mieux\n    } else {// Code à éxécuter si l'utilisateur clique sur \"Annuler\"\n      }\n  };\n\n  const updateDisponibiliteRestaurant = async (item, disponibilite) => {\n    console.log(disponibilite);\n    await axios.put(URL + \"gonak/info_restaurant/1/\", {\n      disponibilite_restaurant: disponibilite\n    });\n  };\n\n  useEffect(() => {\n    get_restaurant();\n    console.log(items);\n    return () => {\n      setItems([]);\n    };\n  }, []);\n  console.log(items[0]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"adminNav \" + (active ? \"active\" : \"\"),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminNav__header\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Logo,\n        alt: \"Logo Markus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"adminNav__title\",\n      children: \"Gonak\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), items[0] != undefined ? /*#__PURE__*/_jsxDEV(SwitchBtn, {\n      val: items[0].disponibilite_restaurant,\n      action: updateDisponibiliteRestaurant,\n      item: items[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminNav__links\",\n      children: [admin.pages.map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"adminNav__link \" + (admin.currentPage === page.name ? \"active\" : \"\"),\n        onClick: () => {\n          dispatch(changePage(page.name));\n          history.push(path + page.path);\n          setActive(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas adminNav__link__icone \" + page.icone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: page.libelle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), page.name === \"nouvelles_commandes\" && admin.nouvelleCommandeLength > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"adminNav__nouvelles_commandes__indicator\",\n          children: admin.nouvelleCommandeLength\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), page.name === \"commandes_encours\" && admin.commandeCoursLength > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"adminNav__nouvelles_commandes__indicator\",\n          children: admin.commandeCoursLength\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, page.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => deconnexion(),\n        className: \"adminNav__link-deconnexion\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas adminNav__link__icone \" + \"fa-sign-out-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"D\\xE9connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminNav__close\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        className: \"adminNav__close-btn\",\n        onClick: () => {\n          setActive(!active);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-\" + (active ? \"chevron-right\" : \"chevron-left\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminNav__humburger\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => setActive(!active),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminNav, \"5ZZN/oo4TMWoWkF4TipI6W6H1FI=\", false, function () {\n  return [useSelector, useDispatch, useHistory, useRouteMatch];\n});\n\n_c = AdminNav;\nexport default AdminNav;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminNav\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/menu/Menu.js"],"names":["Logo","useDispatch","useSelector","selectAdmin","changePage","useEffect","useState","IconButton","Switch","useHistory","useRouteMatch","SwitchBtn","axios","URL","AdminNav","admin","dispatch","history","path","active","setActive","items","setItems","console","log","get_restaurant","data","get","deconnexion","window","confirm","put","disponibilite_restaurant","localStorage","removeItem","push","updateDisponibiliteRestaurant","item","disponibilite","undefined","pages","map","page","currentPage","name","icone","libelle","nouvelleCommandeLength","commandeCoursLength"],"mappings":"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","sourcesContent":["import Logo from \"../../../images/logo_petit_m.png\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectAdmin, changePage } from \"../../../app/Redux-slices/adminSlice\";\nimport { useEffect, useState } from \"react\";\nimport \"./menu.css\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Switch, useHistory, useRouteMatch } from \"react-router-dom\";\nimport SwitchBtn from \"../switch/SwitchBtn\";\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\";\n//import Admin from \"../../../pages/Admin\";\n\nconst AdminNav = () => {\n  const admin = useSelector(selectAdmin);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { path } = useRouteMatch();\n\n  const [active, setActive] = useState(false);\n  const [items, setItems] = useState([]);\n\n  console.log(active);\n\n  // active\n  //   ? (window.document.body.style.overflow = \"hidden\")\n  //   : (window.document.body.style.overflow = \"auto\");\n\n  const get_restaurant = async () => {\n    const { data } = await axios.get(URL + \"gonak/info_restaurant/\");\n\n    setItems(data);\n  };\n\n  const deconnexion = async () => {\n    if (\n      window.confirm(\n        \"Êtes-vous sûr de vouloir vous déconnecter ? Cela aura pour conséquence de fermer le restaurant.\"\n      )\n    ) {\n      await axios.put(URL + \"gonak/info_restaurant/1/\", {\n        disponibilite_restaurant: false,\n      });\n      localStorage.removeItem('jwtToken');\n      history.push(\"/\") // à voir si il y a mieux\n    } else {\n      // Code à éxécuter si l'utilisateur clique sur \"Annuler\"\n    }\n  };\n\n  const updateDisponibiliteRestaurant = async (item, disponibilite) => {\n    console.log(disponibilite);\n    await axios.put(URL + \"gonak/info_restaurant/1/\", {\n      disponibilite_restaurant: disponibilite,\n    });\n  };\n\n  useEffect(() => {\n    get_restaurant();\n    console.log(items);\n\n    return () => {\n      setItems([]);\n    };\n  }, []);\n\n  console.log(items[0]);\n\n  return (\n    <div className={\"adminNav \" + (active ? \"active\" : \"\")}>\n      <div className=\"adminNav__header\">\n        <img src={Logo} alt=\"Logo Markus\" />\n      \n      </div>\n\n      <h2 className=\"adminNav__title\">Gonak</h2>\n      {/*Switch pour ouvrir et fermer (close and open restaurant)*/}\n      \n      {items[0] != undefined ? (\n        <SwitchBtn\n          val={items[0].disponibilite_restaurant}\n          action={updateDisponibiliteRestaurant}\n          item={items[0]}\n        />\n      ) : null}\n    \n      <div className=\"adminNav__links\">\n        {admin.pages.map((page) => (\n          <button\n            key={page.name}\n            className={\n              \"adminNav__link \" +\n              (admin.currentPage === page.name ? \"active\" : \"\")\n            }\n            onClick={() => {\n              dispatch(changePage(page.name));\n              history.push(path + page.path);\n              setActive(false);\n            }}\n          >\n            <i className={\"fas adminNav__link__icone \" + page.icone}></i>{\" \"}\n            <p>{page.libelle}</p>\n            {page.name === \"nouvelles_commandes\" &&\n              admin.nouvelleCommandeLength > 0 && (\n                <div className=\"adminNav__nouvelles_commandes__indicator\">\n                  {admin.nouvelleCommandeLength}\n                </div>\n              )}\n            {page.name === \"commandes_encours\" &&\n              admin.commandeCoursLength > 0 && (\n                <div className=\"adminNav__nouvelles_commandes__indicator\">\n                  {admin.commandeCoursLength}\n                </div>\n              )}\n          </button>\n        ))}\n        <button\n          type=\"submit\"\n          onClick={() => deconnexion()}\n          className=\"adminNav__link-deconnexion\"\n        >\n          <i className={\"fas adminNav__link__icone \" + \"fa-sign-out-alt\"}></i>{\" \"}\n          <p>Déconnexion</p>\n        </button>\n      </div>\n      <div className=\"adminNav__close\">\n        <IconButton\n          className=\"adminNav__close-btn\"\n          onClick={() => {setActive(!active)}}\n        >\n          <i\n            className={\"fas fa-\" + (active ? \"chevron-right\" : \"chevron-left\")}\n          ></i>\n        </IconButton>\n      </div>\n\n      <div className=\"adminNav__humburger\">\n        <IconButton onClick={() => setActive(!active)}>\n          <i className=\"fas fa-bars\"></i>\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminNav;\n"]},"metadata":{},"sourceType":"module"}