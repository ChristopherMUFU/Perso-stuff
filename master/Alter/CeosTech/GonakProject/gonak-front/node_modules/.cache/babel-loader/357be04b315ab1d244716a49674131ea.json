{"ast":null,"code":"import _regeneratorRuntime from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from\"react\";import\"./contact.css\";import{Accordion,AccordionDetails,AccordionSummary,Button,makeStyles}from\"@material-ui/core\";import{useState}from\"react\";import{getPrixAvecTTC,splitPrix}from\"../../../utilities\";import ExpandedIcon from\"../product/ExpandedIcon\";//import ReadMoreReact from 'read-more-react';\nimport axios from\"axios\";import{URL}from\"../../../middlewares/request\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{heading:{fontSize:theme.typography.pxToRem(16),fontWeight:theme.typography.fontWeightMedium,color:\"black\",width:\"20%\"},table:{width:\"100%\",display:\"flex\",justifyContent:\"space-around\",alignItems:\"center\"},accordion:{marginTop:\"30px\",minHeight:\"100px\",position:\"relative\"},p:{fontWeight:\"bold\",margin:0,fontSize:15,width:\"20%\"},detail:{fontWeight:\"bold\",margin:0,fontSize:12},message:{marginTop:\"5%\",fontSize:13,maxWidth:\"150px\",wordWrap:\"break-word\",textAlign:\"justify\"},message_header:{marginHorizontal:10},headerStyle:{fontWeight:\"bold\",margin:0,fontSize:15},message_container:{display:\"flex\",flexDirection:\"column\"},message_content:{justifyContent:\"center\",alignItems:\"center\",marginTop:\"3%\",marginLeft:\"15%\",marginRight:\"15%\"},message_response:{justifyContent:\"center\",alignItems:\"center\",textAlign:\"center\",marginTop:\"3%\",marginBottom:\"2%\"},contentStyle:{textAlign:\"justify\"},'@media(minWidth: 780px)':{width:'80%'}};});var Contact=function Contact(_ref){var contact=_ref.contact,id=_ref.contact.id;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];//console.log(\"abc\" + id)\n//delete data\nvar deleteData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.delete(URL+\"gonak/contact/\"+contact.id+\"/\").then(function(res){window.location.reload();// history.push(\"/admin/fichier-contact\");\n});case 1:case\"end\":return _context.stop();}}},_callee);}));return function deleteData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Accordion,{className:classes.accordion,onChange:function onChange(e,expand){return setExpanded(expand);},children:[/*#__PURE__*/_jsxs(AccordionSummary,{className:classes.accordion// expandIcon={<ExpandMoreIcon style={{ color: \"black\" }} />}\n,\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\",children:[!expanded?/*#__PURE__*/_jsxs(\"div\",{className:classes.table,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.p,children:contact.nom})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.p,children:contact.prenom})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.p,children:contact.telephone})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.p,children:new Date(contact.date_message).toLocaleDateString()})})]}):/*#__PURE__*/_jsx(\"div\",{className:classes.table}),/*#__PURE__*/_jsx(ExpandedIcon,{expanded:expanded,setExpanded:setExpanded})]}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.message_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.message_content,children:/*#__PURE__*/_jsxs(\"div\",{className:\"message_box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Nom:\"}),\" \",contact.nom]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Pr\\xE9nom:\"}),\" \",contact.prenom]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Telephone:\"}),\" \",contact.telephone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Mail:\"}),\" \",contact.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Societe:\"}),\" \",contact.societe]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Prestation:\"}),\" \",contact.prestation]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Date:\"}),\" \",new Date(contact.date_message).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:classes.contentStyle,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Message:\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),contact.message]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(contact.email),children:/*#__PURE__*/_jsx(\"button\",{className:\"registre__button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-reply \"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"supp_button\",onClick:function onClick(){deleteData();},children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-trash-alt\"})})]})]})})]},contact.id)});};export default Contact;","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/contact/Contact.js"],"names":["React","useEffect","useRef","Accordion","AccordionDetails","AccordionSummary","Button","makeStyles","useState","getPrixAvecTTC","splitPrix","ExpandedIcon","axios","URL","useStyles","theme","heading","fontSize","typography","pxToRem","fontWeight","fontWeightMedium","color","width","table","display","justifyContent","alignItems","accordion","marginTop","minHeight","position","p","margin","detail","message","maxWidth","wordWrap","textAlign","message_header","marginHorizontal","headerStyle","message_container","flexDirection","message_content","marginLeft","marginRight","message_response","marginBottom","contentStyle","Contact","contact","id","classes","expanded","setExpanded","deleteData","delete","then","res","window","location","reload","e","expand","nom","prenom","telephone","Date","date_message","toLocaleDateString","email","societe","prestation"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\n\nimport \"./contact.css\";\n\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Button,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { getPrixAvecTTC, splitPrix } from \"../../../utilities\";\nimport ExpandedIcon from \"../product/ExpandedIcon\";\n//import ReadMoreReact from 'read-more-react';\nimport axios from \"axios\";\nimport {URL} from \"../../../middlewares/request\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(16),\n    fontWeight: theme.typography.fontWeightMedium,\n    color: \"black\",\n    width: \"20%\",\n  },\n  table: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n\n  accordion: {\n    marginTop: \"30px\",\n    minHeight: \"100px\",\n    position: \"relative\",\n  },\n  p: {\n    fontWeight: \"bold\",\n    margin: 0,\n    fontSize: 15,\n    width: \"20%\",\n  },\n\n  detail: {\n    fontWeight: \"bold\",\n    margin: 0,\n    fontSize: 12,\n  },\n\n  message: {\n    marginTop: \"5%\",\n    fontSize: 13,\n    maxWidth: \"150px\",\n    wordWrap: \"break-word\",\n    textAlign: \"justify\",\n  },\n\n  message_header: {\n   marginHorizontal: 10,\n  },\n\n  headerStyle: {\n    fontWeight: \"bold\",\n    margin: 0,\n    fontSize: 15,\n  },\n\n  message_container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n\n  message_content: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: \"3%\",\n    marginLeft: \"15%\",\n    marginRight: \"15%\",\n  },\n\n  message_response: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    marginTop: \"3%\",\n    marginBottom: \"2%\",\n  },\n\n  contentStyle: {\n    textAlign: \"justify\",\n  },\n\n  '@media(minWidth: 780px)' : {\n    width: '80%'\n  }\n}));\n\n\n\n\nconst Contact = ({ contact, contact: {id}}) => {\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  //console.log(\"abc\" + id)\n  //delete data\n  const deleteData = async () => {\n    axios.delete(URL + \"gonak/contact/\" + contact.id +\"/\").then((res) => {\n      window.location.reload();\n      // history.push(\"/admin/fichier-contact\");\n    });\n  };\n\n  return (\n    <>\n      <Accordion\n        className={classes.accordion}\n        key={contact.id}\n        onChange={(e, expand) => setExpanded(expand)}>\n        <AccordionSummary\n          className={classes.accordion}\n          // expandIcon={<ExpandMoreIcon style={{ color: \"black\" }} />}\n          aria-controls='panel1a-content'\n          id='panel1a-header'>\n          {!expanded ? (\n            <div className={classes.table}>\n                <div>\n                  <p className={classes.p}>{contact.nom}</p>\n                </div>\n                <div>\n                <p className={classes.p}>{contact.prenom}</p>\n                </div>\n                <div>\n                <p className={classes.p}>{contact.telephone}</p>\n                </div>\n                <div>\n                <p className={classes.p}>{new Date(contact.date_message).toLocaleDateString()}</p>\n                </div>\n                \n            </div>\n          ) : (\n            <div className={classes.table}>\n                \n            </div>\n          )}\n        <ExpandedIcon expanded={expanded} setExpanded={setExpanded} />\n        </AccordionSummary>\n        <AccordionDetails>\n          <div className={classes.message_container}>\n            <div className={classes.message_content}>\n              <div className=\"message_box\">\n                <p><b>Nom:</b> {contact.nom}</p>\n                <p><b>Pr√©nom:</b> {contact.prenom}</p>\n                <p><b>Telephone:</b> {contact.telephone}</p>\n                <p><b>Mail:</b> {contact.email}</p>\n                <p><b>Societe:</b> {contact.societe}</p>\n                <p><b>Prestation:</b> {contact.prestation}</p>\n                <p><b>Date:</b> {new Date(contact.date_message).toLocaleDateString()}</p>\n                <p className={classes.contentStyle}><b>Message:</b> <br></br>{contact.message}</p>\n              </div>\n            </div>\n            \n            <div style={{ textAlign: \"center\" }}>\n              <a href={`mailto:${contact.email}`}>\n                <button className=\"registre__button\">\n                  <i className=\"fas fa-reply \"></i>\n                </button>\n              </a>\n              <button\n                className=\"supp_button\"\n                onClick={() => {\n\n                  deleteData();\n                }}\n              >\n                <i className=\"far fa-trash-alt\"></i>\n              </button>\n            </div>\n            \n          </div>\n       \n    \n        </AccordionDetails>\n      </Accordion>\n    </>\n  );\n};\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}