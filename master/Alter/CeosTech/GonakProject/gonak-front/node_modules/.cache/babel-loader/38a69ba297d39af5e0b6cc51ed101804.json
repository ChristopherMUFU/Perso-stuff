{"ast":null,"code":"import _regeneratorRuntime from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{URL}from\"../../../middlewares/request\";import\"./productDisplay.css\";import{splitPrix}from\"../../../utilities\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDisplay=function ProductDisplay(_ref){var _supplements$viande_,_supplements$viande_2,_supplements$viande_3,_supplements$viande_4,_supplements$sauce,_supplements$sauce2,_supplements$garnitur,_supplements$garnitur2;var idPanierItem=_ref.idPanierItem;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),panierItem=_useState2[0],setPanierItem=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),supplements=_useState4[0],setSupplements=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),supplementsPayants=_useState6[0],setSupplementsPayants=_useState6[1];var fetchPanierItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _supplementTemp$suppl;var _yield$axios$get,data,supplementTemp,supplementsPayantsTemp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(URL+\"paiement/produits/\"+idPanierItem);case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPanierItem(data);supplementTemp=JSON.parse(data.supplements);setSupplements(supplementTemp);supplementsPayantsTemp=[];// if (supplementTemp?.supplements) {\nsupplementTemp===null||supplementTemp===void 0?void 0:(_supplementTemp$suppl=supplementTemp.supplements)===null||_supplementTemp$suppl===void 0?void 0:_supplementTemp$suppl.forEach(function(suppemntItem){supplementsPayantsTemp.push(JSON.parse(suppemntItem));});// }\nsetSupplementsPayants(supplementsPayantsTemp);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchPanierItem(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchPanierItem();},[]);useEffect(function(){console.log(\"panierItem\",panierItem);},[panierItem]);console.log(supplements);return/*#__PURE__*/_jsx(\"div\",{children:panierItem?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"title-details\",children:[panierItem.quantite,\"x \",panierItem.produit.nom,\" \"]}),panierItem.produit.nom.includes(\"Pizza\")?/*#__PURE__*/_jsx(\"p\",{children:(supplements===null||supplements===void 0?void 0:supplements.prixPizzaSelected)&&splitPrix(supplements.prixPizzaSelected*panierItem.quantite)}):/*#__PURE__*/_jsx(\"p\",{children:splitPrix(panierItem.produit.prix*panierItem.quantite)})]}),(supplements===null||supplements===void 0?void 0:supplements.painSelected)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Pain : \"}),/*#__PURE__*/_jsx(\"p\",{children:supplements.painSelected})]}),(supplements===null||supplements===void 0?void 0:supplements.viande_1_selected)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"1 Viande : \"}),/*#__PURE__*/_jsx(\"p\",{children:supplements.viande_1_selected})]}),(supplements===null||supplements===void 0?void 0:(_supplements$viande_=supplements.viande_2_selected)===null||_supplements$viande_===void 0?void 0:_supplements$viande_.length)===0?\"\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"2 Viandes :\"}),supplements===null||supplements===void 0?void 0:(_supplements$viande_2=supplements.viande_2_selected)===null||_supplements$viande_2===void 0?void 0:_supplements$viande_2.map(function(item){return/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:item},item);})]}),(supplements===null||supplements===void 0?void 0:(_supplements$viande_3=supplements.viande_3_selected)===null||_supplements$viande_3===void 0?void 0:_supplements$viande_3.length)===0?\"\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"3 Viandes :\"}),supplements===null||supplements===void 0?void 0:(_supplements$viande_4=supplements.viande_3_selected)===null||_supplements$viande_4===void 0?void 0:_supplements$viande_4.map(function(item){return/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:item},item);})]}),(supplements===null||supplements===void 0?void 0:(_supplements$sauce=supplements.sauce)===null||_supplements$sauce===void 0?void 0:_supplements$sauce.length)!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Sauces :\"}),supplements===null||supplements===void 0?void 0:(_supplements$sauce2=supplements.sauce)===null||_supplements$sauce2===void 0?void 0:_supplements$sauce2.map(function(sauceItem){return/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:sauceItem},sauceItem);}),(supplements===null||supplements===void 0?void 0:supplements.hasOwnProperty(\"garniture\"))&&(supplements===null||supplements===void 0?void 0:(_supplements$garnitur=supplements.garniture)===null||_supplements$garnitur===void 0?void 0:_supplements$garnitur.length)!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Garnitures :\"}),supplements===null||supplements===void 0?void 0:(_supplements$garnitur2=supplements.garniture)===null||_supplements$garnitur2===void 0?void 0:_supplements$garnitur2.map(function(garnitureItem){return/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:garnitureItem},garnitureItem);}),(supplementsPayants===null||supplementsPayants===void 0?void 0:supplementsPayants.length)!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Supplements :\"}),supplementsPayants===null||supplementsPayants===void 0?void 0:supplementsPayants.map(function(supplementsPayantsItem){return/*#__PURE__*/_jsxs(\"div\",{className:\"ecarter-prix\",children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:supplementsPayantsItem.nom_supplement}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[supplementsPayantsItem.prix_supplement,\"\\u20AC\"]})]},supplementsPayantsItem);}),(supplements===null||supplements===void 0?void 0:supplements.boisson)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Boisson : \"}),/*#__PURE__*/_jsx(\"p\",{children:supplements.boisson})]}),(panierItem===null||panierItem===void 0?void 0:panierItem.information)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"bold-details\",children:\"Information :\"}),/*#__PURE__*/_jsx(\"p\",{children:panierItem.information})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Erreur, panier pas re\\xE7u\"})});};export default ProductDisplay;","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/product/ProductDisplay.js"],"names":["React","useState","useEffect","axios","URL","splitPrix","ProductDisplay","idPanierItem","panierItem","setPanierItem","supplements","setSupplements","supplementsPayants","setSupplementsPayants","fetchPanierItem","get","data","supplementTemp","JSON","parse","supplementsPayantsTemp","forEach","suppemntItem","push","console","log","display","justifyContent","quantite","produit","nom","includes","prixPizzaSelected","prix","painSelected","viande_1_selected","viande_2_selected","length","map","item","margin","viande_3_selected","sauce","sauceItem","hasOwnProperty","garniture","garnitureItem","supplementsPayantsItem","nom_supplement","prix_supplement","boisson","information"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\";\nimport \"./productDisplay.css\";\nimport { splitPrix } from \"../../../utilities\";\n\n\nconst ProductDisplay = ({ idPanierItem }) => {\n  const [panierItem, setPanierItem] = useState(null);\n  const [supplements, setSupplements] = useState(null);\n  const [supplementsPayants, setSupplementsPayants] = useState([]);\n\n  const fetchPanierItem = async () => {\n    const { data } = await axios.get(URL + \"paiement/produits/\" + idPanierItem);\n    setPanierItem(data);\n    const supplementTemp = JSON.parse(data.supplements);\n\n    setSupplements(supplementTemp);\n    const supplementsPayantsTemp = [];\n    // if (supplementTemp?.supplements) {\n    supplementTemp?.supplements?.forEach((suppemntItem) => {\n      supplementsPayantsTemp.push(JSON.parse(suppemntItem));\n    });\n    // }\n    setSupplementsPayants(supplementsPayantsTemp);\n  };\n\n\n  useEffect(() => {\n    fetchPanierItem();\n  }, []);\n\n  useEffect(() => {\n    console.log(`panierItem`, panierItem);\n  }, [panierItem]);\n\n  console.log(supplements);\n\n  return (\n    <div>\n      {panierItem ? (\n        <div>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <p className=\"title-details\">\n              {panierItem.quantite}x {panierItem.produit.nom}{\" \"}\n            </p>\n\n            {/* tester si c'est pizza, car sa structure est differente des autres*/}\n            {panierItem.produit.nom.includes(\"Pizza\") ? (\n              <p>\n                {supplements?.prixPizzaSelected &&\n                  splitPrix(\n                    supplements.prixPizzaSelected * panierItem.quantite\n                  )}\n              </p>\n            ) : (\n              <p>{splitPrix(panierItem.produit.prix * panierItem.quantite)}</p>\n            )}\n          </div>\n          {supplements?.painSelected && (\n            <>\n              <p className=\"bold-details\">Pain : </p>\n              <p>{supplements.painSelected}</p>\n            </>\n          )}\n\n          {supplements?.viande_1_selected && (\n            <>\n              <p className=\"bold-details\">1 Viande : </p>\n              <p>{supplements.viande_1_selected}</p>\n            </>\n          )}\n\n          {supplements?.viande_2_selected?.length === 0 ? (\"\") : (\n            <>\n              <p className=\"bold-details\">2 Viandes :</p>\n              {supplements?.viande_2_selected?.map((item) => {\n                return (\n                  <p key={item} style={{margin: 0}}>\n                    {item}\n                  </p>\n                 );\n              })}\n            </>\n          )}\n          {supplements?.viande_3_selected?.length === 0 ? (\"\") : (\n            <>\n              <p className=\"bold-details\">3 Viandes :</p>\n              {supplements?.viande_3_selected?.map((item) => {\n                return (\n                  <p key={item} style={{margin: 0}}>\n                    {item}\n                  </p>\n                 );\n              })}\n            </>\n          )}\n\n          {supplements?.sauce?.length !== 0 && (\n            <p className=\"bold-details\">Sauces :</p>\n          )}\n          {supplements?.sauce?.map((sauceItem) => (\n            <p key={sauceItem} style={{margin: 0}}>{sauceItem}</p>\n          ))}\n\n          {supplements?.hasOwnProperty(\"garniture\") &&\n            supplements?.garniture?.length !== 0 && (\n              <p className=\"bold-details\">Garnitures :</p>\n            )}\n          {supplements?.garniture?.map((garnitureItem) => (\n            <p key={garnitureItem} style={{margin: 0}}>{garnitureItem}</p>\n          ))}\n\n          {supplementsPayants?.length !== 0 && (\n            <p className=\"bold-details\">Supplements :</p>\n          )}\n          {supplementsPayants?.map((supplementsPayantsItem) => (\n            <div key={supplementsPayantsItem} className=\"ecarter-prix\">\n              <p style={{margin: 0}}>{supplementsPayantsItem.nom_supplement}</p>\n              <p style={{margin: 0}}>{supplementsPayantsItem.prix_supplement}€</p>\n            </div>\n          ))}\n\n          {supplements?.boisson && (\n            <>\n              <p className=\"bold-details\">Boisson : </p>\n              <p>{supplements.boisson}</p>\n            </>\n          )}\n          {panierItem?.information && (\n            <>\n              <p className=\"bold-details\">Information :</p>\n              <p>{panierItem.information}</p>\n            </>\n          )}\n        </div>\n      ) : (\n        <p>Erreur, panier pas reçu</p>\n      )}\n    </div>\n  );\n};\n\nexport default ProductDisplay;\n"]},"metadata":{},"sourceType":"module"}