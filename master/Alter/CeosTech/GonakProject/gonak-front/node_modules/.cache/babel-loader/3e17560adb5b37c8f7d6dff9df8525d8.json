{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/dirigeant/EditFormDirigeant.js\",\n    _s = $RefreshSig$();\n\nimport React, { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\nimport { sendrequest } from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../../modal/Modal\";\nimport { TextField } from \"@material-ui/core\";\nimport \"./dirigeant.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initial = {\n  nom: \"\",\n  prenom: \"\",\n  adresse_mail: \"\",\n  num_tel: \"\",\n  code_postal: \"\",\n  ville: \"\",\n  adresse: \"\",\n  poste_occupe: \"\"\n};\n\nconst EditFormDirigeant = () => {\n  _s();\n\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const estValide = (fieldValues = state) => {\n    const validator = {};\n    if (\"nom\" in fieldValues) validator.nom = state.nom ? null : \"Le champ nom est obligatore\";\n    if (\"prenom\" in fieldValues) validator.prenom = state.prenom ? null : \"Le champ prénom est obligatore\";\n    if (\"adresse_mail\" in fieldValues) validator.adresse_mail = /([a-zA-Z0-9-_.+]{4,})@.+\\..+/.test(adresse_mail) ? null : \"Le mail n'est pas valide\";\n    if (\"adresse\" in fieldValues) validator.adresse = state.adresse ? null : \"Le champ adresse est obligatore\";\n    if (\"ville\" in fieldValues) validator.ville = state.ville ? null : \"Le champ ville est obligatore\";\n    if (\"poste_occupe\" in fieldValues) validator.poste_occupe = state.poste_occupe ? null : \"Le champ poste occupée est obligatore\";\n    if (\"code_postal\" in fieldValues) validator.code_postal = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(code_postal) ? null : \"Le code postal n'est pas valide\";\n    if (\"num_tel\" in fieldValues) validator.num_tel = /^(0|\\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(num_tel) ? null : \"Le numéro de téléphone n'est pas valide\";\n    setErrors({ ...validator\n    }); // retourne boolean si et seulement si on passe un parametre pour la fonction\n\n    if (fieldValues === state) {\n      return Object.values(validator).every(el => !el);\n    }\n  };\n\n  const {\n    state,\n    handleInputChange,\n    errors,\n    setErrors,\n    reinitialiserState\n  } = useForm(initial, estValide);\n  const {\n    nom,\n    prenom,\n    adresse_mail,\n    num_tel,\n    code_postal,\n    ville,\n    adresse,\n    poste_occupe\n  } = state;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendrequest(\"post\", \"main/dirigeant/\", null, null, state).then(response => {\n      if (response !== false && estValide()) {\n        setSuccess(true);\n        handleShow();\n      } else {\n        setSuccess(false);\n        handleShow();\n      }\n    });\n    reinitialiserState();\n\n    if (estValide()) {}\n  };\n\n  const RedirectionInfo = () => {\n    let url = \"/admin/mon-compte/infos-personnelles\";\n    history.push(url);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dirigeant_container\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_label\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        className: \"dirigeant_input\",\n        id: \"outlined-basic\",\n        variant: \"outlined\",\n        label: \"Nom du dirigeant\",\n        name: \"nom\",\n        value: nom,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: errors.nom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_label\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        className: \"dirigeant_input\",\n        id: \"outlined-basic\",\n        variant: \"outlined\",\n        label: \"Pr\\xE9nom du dirigeant\",\n        name: \"prenom\",\n        value: prenom,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: errors.prenom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_label\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        className: \"dirigeant_input\",\n        id: \"outlined-basic\",\n        variant: \"outlined\",\n        label: \"Adresse\",\n        name: \"adresse\",\n        value: adresse,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: errors.adresse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_adresse\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dirigeant_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          className: \"dirigeant_input\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          label: \"Code postal\",\n          name: \"code_postal\",\n          value: code_postal,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.code_postal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dirigeant_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          className: \"dirigeant_input\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          label: \"Ville\",\n          name: \"ville\",\n          value: ville,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.ville\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_label\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        className: \"dirigeant_input\",\n        id: \"outlined-basic\",\n        variant: \"outlined\",\n        label: \"Adresse mail\",\n        name: \"adresse_mail\",\n        value: adresse_mail,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: errors.adresse_mail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_adresse\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dirigeant_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          className: \"dirigeant_input\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          label: \"Poste occup\\xE9\",\n          value: poste_occupe,\n          name: \"poste_occupe\",\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.poste_occupe\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dirigeant_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          className: \"dirigeant_input\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          label: \"Num\\xE9ro de t\\xE9l\\xE9phone\",\n          name: \"num_tel\",\n          value: num_tel,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.num_tel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dirigeant_button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"registre_button\",\n        type: \"submit\",\n        children: \"Enregistrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalBootsrap, {\n      handleClose: handleClose,\n      show: show,\n      title: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [success ? \"Envoyé\" : \"Oups\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: `${success ? \" fas fa-thumbs-up\" : \" fas fa-thumbs-down\"}`,\n          style: {\n            color: \"#4caf50\",\n            marginLeft: \"1rem\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true),\n      children: success ? \"Enregistrement avec succès.\" : \"Une erreur s'est produite, veuillez réessayer.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditFormDirigeant, \"4zUw2n5s498jByeNdDC/NZko344=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = EditFormDirigeant;\nexport default EditFormDirigeant;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditFormDirigeant\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/dirigeant/EditFormDirigeant.js"],"names":["React","useHistory","useState","useForm","sendrequest","ModalBootsrap","TextField","initial","nom","prenom","adresse_mail","num_tel","code_postal","ville","adresse","poste_occupe","EditFormDirigeant","history","show","setShow","success","setSuccess","handleClose","handleShow","estValide","fieldValues","state","validator","test","setErrors","Object","values","every","el","handleInputChange","errors","reinitialiserState","handleSubmit","e","preventDefault","then","response","RedirectionInfo","url","push","color","marginLeft"],"mappings":"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","sourcesContent":["import React, { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\nimport { sendrequest } from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../../modal/Modal\";\nimport { TextField } from \"@material-ui/core\";\n\nimport \"./dirigeant.css\";\n\nconst initial = {\n  nom: \"\",\n  prenom: \"\",\n  adresse_mail: \"\",\n  num_tel: \"\",\n  code_postal: \"\",\n  ville: \"\",\n  adresse: \"\",\n  poste_occupe: \"\",\n};\nconst EditFormDirigeant = () => {\n  const history = useHistory();\n\n  const [show, setShow] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const estValide = (fieldValues = state) => {\n    const validator = {};\n    if (\"nom\" in fieldValues)\n      validator.nom = state.nom ? null : \"Le champ nom est obligatore\";\n\n    if (\"prenom\" in fieldValues)\n      validator.prenom = state.prenom ? null : \"Le champ prénom est obligatore\";\n\n    if (\"adresse_mail\" in fieldValues)\n      validator.adresse_mail = /([a-zA-Z0-9-_.+]{4,})@.+\\..+/.test(adresse_mail)\n        ? null\n        : \"Le mail n'est pas valide\";\n\n    if (\"adresse\" in fieldValues)\n      validator.adresse = state.adresse\n        ? null\n        : \"Le champ adresse est obligatore\";\n\n    if (\"ville\" in fieldValues)\n      validator.ville = state.ville ? null : \"Le champ ville est obligatore\";\n\n    if (\"poste_occupe\" in fieldValues)\n      validator.poste_occupe = state.poste_occupe\n        ? null\n        : \"Le champ poste occupée est obligatore\";\n\n    if (\"code_postal\" in fieldValues)\n      validator.code_postal = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(\n        code_postal\n      )\n        ? null\n        : \"Le code postal n'est pas valide\";\n\n    if (\"num_tel\" in fieldValues)\n      validator.num_tel = /^(0|\\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(num_tel)\n        ? null\n        : \"Le numéro de téléphone n'est pas valide\";\n\n    setErrors({ ...validator });\n\n    // retourne boolean si et seulement si on passe un parametre pour la fonction\n    if (fieldValues === state) {\n      return Object.values(validator).every((el) => !el);\n    }\n  };\n\n  const { state, handleInputChange, errors, setErrors, reinitialiserState } =\n    useForm(initial, estValide);\n\n  const {\n    nom,\n    prenom,\n    adresse_mail,\n    num_tel,\n    code_postal,\n    ville,\n    adresse,\n    poste_occupe,\n  } = state;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    sendrequest(\"post\", \"main/dirigeant/\", null, null, state).then(\n      (response) => {\n        if (response !== false && estValide()) {\n          setSuccess(true);\n          handleShow();\n        } else {\n          setSuccess(false);\n          handleShow();\n        }\n      }\n    );\n\n    reinitialiserState();\n    if (estValide()) {\n    }\n  };\n\n  const RedirectionInfo = () => {\n    let url = \"/admin/mon-compte/infos-personnelles\";\n    history.push(url);\n  };\n  return (\n    <div className=\"dirigeant_container\" onSubmit={handleSubmit}>\n      <div className=\"dirigeant_label\">\n        <TextField\n          fullWidth\n          className=\"dirigeant_input\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Nom du dirigeant\"\n          name=\"nom\"\n          value={nom}\n          onChange={handleInputChange}\n          required\n        />\n        <div className=\"errors\">{errors.nom}</div>\n      </div>\n\n      <div className=\"dirigeant_label\">\n        <TextField\n          fullWidth\n          className=\"dirigeant_input\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Prénom du dirigeant\"\n          name=\"prenom\"\n          value={prenom}\n          onChange={handleInputChange}\n          required\n        />\n        <div className=\"errors\">{errors.prenom}</div>\n      </div>\n\n      <div className=\"dirigeant_label\">\n        <TextField\n          fullWidth\n          className=\"dirigeant_input\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Adresse\"\n          name=\"adresse\"\n          value={adresse}\n          onChange={handleInputChange}\n          required\n        />\n        <div className=\"errors\">{errors.adresse}</div>\n      </div>\n      <div className=\"dirigeant_adresse\">\n        <div className=\"dirigeant_label\">\n          <TextField\n            fullWidth\n            className=\"dirigeant_input\"\n            id=\"outlined-basic\"\n            variant=\"outlined\"\n            label=\"Code postal\"\n            name=\"code_postal\"\n            value={code_postal}\n            onChange={handleInputChange}\n            required\n          />\n          <div className=\"errors\">{errors.code_postal}</div>\n        </div>\n\n        <div className=\"dirigeant_label\">\n          <TextField\n            fullWidth\n            className=\"dirigeant_input\"\n            id=\"outlined-basic\"\n            variant=\"outlined\"\n            label=\"Ville\"\n            name=\"ville\"\n            value={ville}\n            onChange={handleInputChange}\n            required\n          />\n          <div className=\"errors\">{errors.ville}</div>\n        </div>\n      </div>\n      <div className=\"dirigeant_label\">\n        <TextField\n          fullWidth\n          className=\"dirigeant_input\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Adresse mail\"\n          name=\"adresse_mail\"\n          value={adresse_mail}\n          onChange={handleInputChange}\n          required\n        />\n        <div className=\"errors\">{errors.adresse_mail}</div>\n      </div>\n\n      <div className=\"dirigeant_adresse\">\n        <div className=\"dirigeant_label\">\n          <TextField\n            fullWidth\n            className=\"dirigeant_input\"\n            id=\"outlined-basic\"\n            variant=\"outlined\"\n            label=\"Poste occupé\"\n            value={poste_occupe}\n            name=\"poste_occupe\"\n            onChange={handleInputChange}\n            required\n          />\n          <div className=\"errors\">{errors.poste_occupe}</div>\n        </div>\n\n        <div className=\"dirigeant_label\">\n          <TextField\n            fullWidth\n            className=\"dirigeant_input\"\n            id=\"outlined-basic\"\n            variant=\"outlined\"\n            label=\"Numéro de téléphone\"\n            name=\"num_tel\"\n            value={num_tel}\n            onChange={handleInputChange}\n            required\n          />\n          <div className=\"errors\">{errors.num_tel}</div>\n        </div>\n      </div>\n      <div className=\"dirigeant_button\">\n        <button className=\"registre_button\" type=\"submit\">\n          Enregistrer\n        </button>\n        {/*<button className=\"edit_button\" type=\"submit\">\n            Modifier\n          </button>*/}\n      </div>\n\n      <ModalBootsrap\n        handleClose={handleClose}\n        show={show}\n        title={\n          <>\n            {success ? \"Envoyé\" : \"Oups\"}\n            <i\n              className={`${\n                success ? \" fas fa-thumbs-up\" : \" fas fa-thumbs-down\"\n              }`}\n              style={{ color: \"#4caf50\", marginLeft: \"1rem\" }}\n            ></i>\n          </>\n        }\n      >\n        {success\n          ? \"Enregistrement avec succès.\"\n          : \"Une erreur s'est produite, veuillez réessayer.\"}\n      </ModalBootsrap>\n    </div>\n  );\n};\nexport default EditFormDirigeant;\n"]},"metadata":{},"sourceType":"module"}