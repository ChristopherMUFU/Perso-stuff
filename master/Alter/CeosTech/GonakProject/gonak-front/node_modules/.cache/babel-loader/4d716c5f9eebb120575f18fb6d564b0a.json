{"ast":null,"code":"import _defineProperty from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./styles.css';import axios from\"axios\";import{URL,sendrequest}from\"../../../../middlewares/request\";//import { CarteContent } from '../../../../data/site/carteContent';\nimport Grid from'@material-ui/core/Grid';import ShowMoreText from\"react-show-more-text\";import{Button,IconButton,TextField}from\"@material-ui/core\";import{FormControlLabel,FormControl,RadioGroup,Radio,Checkbox}from\"@material-ui/core\";import FormGroup from\"@material-ui/core/FormGroup\";//import AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport{splitPrix}from\"../../../../utilities\";import Modal from\"../MyModal/Modal\";//import RemoveIcon from \"@material-ui/icons/Remove\";\n//import AddIcon from \"@material-ui/icons/Add\";\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartePage=function CartePage(props){var idMenu=props.idMenuPage;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),produits=_useState2[0],setProduits=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var fetchProduit=function fetchProduit(){axios.get(URL+\"gonak/produit/?categorie=\"+idMenu).then(function(res){setProduits(res.data);console.log(res.data);});};useEffect(function(){fetchProduit();//console.log(produitsCarte);\n},[]);var handleClose=function handleClose(e){if(e.target.classList.contains(\"myModal__backdrop\")||e.target.classList.contains(\"myModal__modal__close-btn\")||e.target.parentNode.classList.contains(\"myModal__modal__close-btn\")||e.target.parentNode.parentNode.classList.contains(\"myModal__modal__close-btn\")){setShow(false);}};var showMultiplePrice=function showMultiplePrice(data){if(data.categorie===1&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.prix_gourmande+\" €\",\" \"]}),\" \"]});}else if(data.categorie===2&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.pieces_x5+\" €\",\" \"]}),\" \"]});}else if(data.categorie===4&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.sans_accompagnement+\" €\",\" \"]}),\" \"]});}else if(data.categorie===12&&data.prix===0){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"À partir de \"+data.moyen+\" €\",\" \"]}),\" \"]});}else{return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[data.prix+\" €\",\" \"]}),\" \"]});}};return/*#__PURE__*/_jsx(\"div\",{id:\"menu-page\",children:produits.map(function(data){var _jsx2;return/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:function onClick(){return setShow(true);},children:[/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",children:[/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",justifyContent:\"center\",direction:\"column\",xs:4,children:/*#__PURE__*/_jsx(\"img\",{src:data.image,alt:data.nom})}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",alignItems:\"flex-start\",direction:\"column\",xs:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"menu-item-titre\",children:data.nom}),/*#__PURE__*/_jsx(ShowMoreText/* Default options */,(_jsx2={lines:1,more:\"voir plus\",less:\"voir moins\",className:\"content-css\",anchorClass:\"my-anchor-css-class\"/*onClick={this.executeOnClick}*/,expanded:false,width:280,truncatedEndingComponent:\"... \"},_defineProperty(_jsx2,\"className\",\"menu-item-text\"),_defineProperty(_jsx2,\"children\",data.description),_jsx2)),showMultiplePrice(data)]})})]}),/*#__PURE__*/_jsxs(Modal,{showModal:show,setShowModal:setShow,handleClose:setShow(false),children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsx(\"h1\",{children:data.nom}),/*#__PURE__*/_jsx(\"img\",{src:data.image,alt:data.nom}),showMultiplePrice(data)]}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Modal.Body.Heading,{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:data.description})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal.Body.Heading,{style:{marginBottom:\"1.5rem\",marginTop:\"1.3rem\"},children:\"Taille de formule\"}),/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",children:/*#__PURE__*/_jsxs(RadioGroup,{name:\"taille_formule\",value:\"test\"/*onChange={handleChangePain}*/,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sides-radioGroup\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Gourmande\",control:/*#__PURE__*/_jsx(Radio,{}),id:1,className:\"radio-choice__menu\"/*onClick={() => {\n                                                    \n                                                  }}*/}),/*#__PURE__*/_jsx(Modal.Body.Heading,{children:\"Gourmande\"})]},1),/*#__PURE__*/_jsxs(\"div\",{className:\"sides-radioGroup\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Intense\",control:/*#__PURE__*/_jsx(Radio,{}),id:1,className:\"radio-choice__menu\"/*onClick={() => {\n                                                    \n                                                  }}*/}),/*#__PURE__*/_jsx(Modal.Body.Heading,{children:\"Intense\"})]},1)]})}),/*#__PURE__*/_jsx(\"div\",{className:\"separation_ligne\",children:\" \"})]}),\":null}\"]})]});})});};export default CartePage;","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/site/Carte/CartePage/index.js"],"names":["React","useState","useEffect","axios","URL","sendrequest","Grid","ShowMoreText","Button","IconButton","TextField","FormControlLabel","FormControl","RadioGroup","Radio","Checkbox","FormGroup","splitPrix","Modal","CartePage","props","idMenu","idMenuPage","produits","setProduits","show","setShow","fetchProduit","get","then","res","data","console","log","handleClose","e","target","classList","contains","parentNode","showMultiplePrice","categorie","prix","prix_gourmande","pieces_x5","sans_accompagnement","moyen","map","image","nom","description","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './styles.css';\nimport axios from \"axios\";\nimport { URL, sendrequest } from \"../../../../middlewares/request\";\n//import { CarteContent } from '../../../../data/site/carteContent';\nimport Grid from '@material-ui/core/Grid';\nimport ShowMoreText from \"react-show-more-text\";\nimport { Button, IconButton, TextField } from \"@material-ui/core\";\nimport {\n  FormControlLabel,\n  FormControl,\n  RadioGroup,\n  Radio,\n  Checkbox,\n} from \"@material-ui/core\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\n//import AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport { splitPrix } from \"../../../../utilities\";\n\nimport Modal from \"../MyModal/Modal\";\n//import RemoveIcon from \"@material-ui/icons/Remove\";\n//import AddIcon from \"@material-ui/icons/Add\";\n\n\nconst CartePage = (props) => {\n  const idMenu = props.idMenuPage;\n  const [produits, setProduits] = useState([]);\n  const [show, setShow] = useState(false);\n\n\n    const fetchProduit = () => {\n      axios.get(URL + \"gonak/produit/?categorie=\" + idMenu).then((res) => {\n        setProduits(res.data);\n        console.log(res.data);\n      });\n    };\n\n    useEffect(() => {\n      fetchProduit();\n      //console.log(produitsCarte);\n    }, []);\n\n    const handleClose = (e) => {\n        if (\n          e.target.classList.contains(\"myModal__backdrop\") ||\n          e.target.classList.contains(\"myModal__modal__close-btn\") ||\n          e.target.parentNode.classList.contains(\"myModal__modal__close-btn\") ||\n          e.target.parentNode.parentNode.classList.contains(\n            \"myModal__modal__close-btn\"\n          )\n        ) {\n          setShow(false);\n      }\n    };\n\n    const showMultiplePrice = (data) => {\n\n      if(data.categorie === 1 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.prix_gourmande + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 2 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.pieces_x5 + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 4 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.sans_accompagnement + \" €\"} </b> </p>)\n      }\n      else if(data.categorie === 12 && data.prix === 0){\n        return (<p><b>{\"À partir de \" + data.moyen + \" €\"} </b> </p>)\n      }\n      else{\n        return (<p><b>{data.prix + \" €\"} </b> </p>)\n      }\n    }\n\n    return(\n        <div id=\"menu-page\">\n             \n                    { produits.map((data) => (\n                            <div \n                              className=\"menu-item\" \n                              onClick={() => setShow(true)}\n                            >\n                              <Grid container direction=\"row\" >\n                                <Grid container alignItems=\"center\" justifyContent=\"center\" direction=\"column\"  xs={4}>\n                                  <img src={data.image} alt={data.nom}></img>\n                                </Grid>\n                                <Grid container justifyContent=\"center\" alignItems=\"flex-start\" direction=\"column\" xs={8}>\n                                  <div className=\"menu-item-info\">\n                                    <p className=\"menu-item-titre\">{data.nom}</p>\n                                    <ShowMoreText\n                                        /* Default options */\n                                        lines={1}\n                                        more=\"voir plus\"\n                                        less=\"voir moins\"\n                                        className=\"content-css\"\n                                        anchorClass=\"my-anchor-css-class\"\n                                        /*onClick={this.executeOnClick}*/\n                                        expanded={false}\n                                        width={280}\n                                        truncatedEndingComponent={\"... \"}\n                                        className=\"menu-item-text\"\n                                    >\n                                        {data.description}\n                                    </ShowMoreText>\n                                  {/* Produit à prix multiple => Formules / Entrées / Rotisserie / Soft drinks */}\n                                    {showMultiplePrice(data)}\n                                  </div>\n                                  \n                                </Grid>\n                            \n                              </Grid>\n\n                                <Modal\n                                    showModal={show}\n                                    setShowModal={setShow}\n                                    handleClose={setShow(false)}\n                                  >\n                                    <Modal.Header>\n                                      <h1>{data.nom}</h1>\n                                      <img src={data.image} alt={data.nom} />\n                                      {showMultiplePrice(data)}\n                                    </Modal.Header>\n\n                                    <Modal.Body>\n                                      <Modal.Body.Heading>Description</Modal.Body.Heading>\n                                      <p>{data.description}</p>\n                                    </Modal.Body>\n\n                                    {/*------------------------- Choix Taille Formule ------------------------------------------*/}\n                                    \n                                      <>\n                                        <Modal.Body.Heading\n                                          style={{ marginBottom: \"1.5rem\", marginTop: \"1.3rem\" }}\n                                        >\n                                          Taille de formule\n                                        </Modal.Body.Heading>\n                                        <FormControl component=\"fieldset\">\n                                          <RadioGroup\n                                            name=\"taille_formule\"\n                                            value={\"test\"}\n                                            /*onChange={handleChangePain}*/\n                                          >\n                                              <div className=\"sides-radioGroup\" key={1}>\n                                                <FormControlLabel\n                                                  value={\"Gourmande\"}\n                                                  control={<Radio />}\n                                                  id={1}\n                                                  className=\"radio-choice__menu\"\n                                                  /*onClick={() => {\n                                                    \n                                                  }}*/\n                                                />\n                                                <Modal.Body.Heading>{\"Gourmande\"}</Modal.Body.Heading>\n                                              </div>\n\n                                              <div className=\"sides-radioGroup\" key={1}>\n                                                <FormControlLabel\n                                                  value={\"Intense\"}\n                                                  control={<Radio />}\n                                                  id={1}\n                                                  className=\"radio-choice__menu\"\n                                                  /*onClick={() => {\n                                                    \n                                                  }}*/\n                                                />\n                                                <Modal.Body.Heading>{\"Intense\"}</Modal.Body.Heading>\n                                              </div>\n                                            \n                                          </RadioGroup>\n                                        </FormControl>\n                                        {/*error && (\n                                          <p className=\"error\">Veuillez sélectionner au moins un élément</p>\n                                        )*/}\n                                        \n                                        <div className=\"separation_ligne\"> </div>\n                                      </>\n                                    :null}\n\n                                    </Modal>\n                              \n\n\n                            </div>\n                        ))}\n\n        </div>\n    );\n};\n export default CartePage;\n"]},"metadata":{},"sourceType":"module"}