{"ast":null,"code":"import _regeneratorRuntime from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useEffect,useState,useRef}from\"react\";import{useDispatch}from\"react-redux\";import ListeContact from\"./ListeContact\";import\"./contact.css\";import{URL}from\"../../../middlewares/request\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FichierContact=function FichierContact(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),running=_useState4[0],setRunning=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentTimeMin=_useState6[0],setCurrentTimeMin=_useState6[1];var fetchContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(URL+\"restaurant/contact/\");case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContacts(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchContacts(){return _ref.apply(this,arguments);};}();useEffect(function(){//let timeoutId;\n//function getLatestContacts() {\nfetchContacts();// wait for the response from fetchContacts , before we recall it (delay of 1minute)\n//timeoutId = setTimeout(getLatestContacts, 1000 * 60);\n//}\n//getLatestContacts();\nreturn function(){//clearTimeout(timeoutId);\nsetContacts([]);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"nouvelleCommande admin__container\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\",marginBottom:\"2rem\",color:\"rgb(86 85 85)\"}}),/*#__PURE__*/_jsx(ListeContact,{contacts:contacts})]});};export default FichierContact;","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/contact/FichierContact.js"],"names":["axios","useEffect","useState","useRef","useDispatch","ListeContact","URL","FichierContact","dispatch","contacts","setContacts","running","setRunning","currentTimeMin","setCurrentTimeMin","fetchContacts","get","data","textAlign","marginBottom","color"],"mappings":"ghBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAO,eAAP,CACA,OAAQC,GAAR,KAAkB,8BAAlB,C,wFAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA8BR,QAAQ,CAAC,KAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA4CV,QAAQ,CAAC,CAAD,CAApD,yCAAOW,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,aAAa,0FAAG,mLACGf,CAAAA,KAAK,CAACgB,GAAN,CACrBV,GAAG,CAAG,qBADe,CADH,uCACZW,IADY,kBACZA,IADY,CAIpBP,WAAW,CAACO,IAAD,CAAX,CAJoB,sDAAH,kBAAbF,CAAAA,aAAa,0CAAnB,CAQAd,SAAS,CAAC,UAAM,CACd;AACA;AACEc,aAAa,GAEb;AACA;AACF;AACA;AAEA,MAAO,WAAM,CACX;AACAL,WAAW,CAAC,EAAD,CAAX,CACD,CAHD,CAID,CAdQ,CAcN,EAdM,CAAT,CAiBI,mBACE,aAAK,SAAS,CAAC,mCAAf,wBACE,WACE,KAAK,CAAE,CACLQ,SAAS,CAAE,QADN,CAELC,YAAY,CAAE,MAFT,CAGLC,KAAK,CAAE,eAHF,CADT,EADF,cAWE,KAAC,YAAD,EACE,QAAQ,CAAEX,QADZ,EAXF,GADF,CAkBL,CAjDD,CAmDA,cAAeF,CAAAA,cAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport ListeContact from \"./ListeContact\";\nimport \"./contact.css\";\nimport {URL} from \"../../../middlewares/request\";\n\n\nconst FichierContact = () => {\n  const dispatch = useDispatch();\n  const [contacts, setContacts] = useState([]);\n  const [running, setRunning] = useState(false);\n  const [currentTimeMin, setCurrentTimeMin] = useState(0);\n\n  const fetchContacts = async () => {\n    const { data } = await axios.get(\n      URL + \"restaurant/contact/\"\n    );\n    setContacts(data);\n  };\n\n\n  useEffect(() => {\n    //let timeoutId;\n    //function getLatestContacts() {\n      fetchContacts();\n\n      // wait for the response from fetchContacts , before we recall it (delay of 1minute)\n      //timeoutId = setTimeout(getLatestContacts, 1000 * 60);\n    //}\n    //getLatestContacts();\n\n    return () => {\n      //clearTimeout(timeoutId);\n      setContacts([]);\n    };\n  }, []);\n\n\n      return (\n        <div className='nouvelleCommande admin__container'>\n          <h1\n            style={{\n              textAlign: \"center\",\n              marginBottom: \"2rem\",\n              color: \"rgb(86 85 85)\",\n            }}>\n            {/*commandes.length\n              ? \"Vos Nouvelles Commandes\"\n              : \"Pas de Nouvelles commandes\"*/}\n          </h1>\n          <ListeContact\n            contacts={contacts}\n          />\n\n        </div>\n      );\n};\n\nexport default FichierContact;\n"]},"metadata":{},"sourceType":"module"}