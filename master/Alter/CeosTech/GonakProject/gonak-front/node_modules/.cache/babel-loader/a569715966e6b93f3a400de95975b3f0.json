{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/societe/Societe.js\",\n    _s = $RefreshSig$();\n\nimport React, { useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\nimport { sendrequest, URL } from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../modal/Modal\";\nimport { TextField } from \"@material-ui/core\";\nimport \"./societe.css\";\nimport axios from \"axios\";\nimport UpdateFormSociete from \"./UpdateFormSociete\";\nimport EditFormSociete from \"./EditFormSociete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initial = {\n  denomination: \"\",\n  adresse_siege: \"\",\n  code_postal_siege: \"\",\n  ville_siege: \"\",\n  SIRET_number: \"\",\n  etablissement: \"\",\n  adresse_etablissement: \"\",\n  code_postal_etablissement: \"\",\n  ville_etablissement: \"\"\n};\n\nfunction Societe() {\n  _s();\n\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [societe, setSociete] = useState([]);\n  const [restaurantOwner, setRestaurantOwner] = useState([]);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const token = window.$token_access;\n  const email = window.$email_dirigeant;\n\n  const fetchRestaurantOwner = async () => {\n    console.log(\"test-get\");\n    console.log(token);\n    const {\n      data\n    } = await axios.get(\"https://markus-app.herokuapp.com/accounts/restaurantowner/?email=\" + email, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log(\"DEB\");\n    console.log(data);\n    setRestaurantOwner(data[0]);\n  };\n\n  useEffect(() => {\n    fetchRestaurantOwner();\n    return () => {\n      setRestaurantOwner([]);\n    };\n  }, []);\n\n  const RedirectionInfo = () => {\n    let url = \"/admin/mon-compte/infos-personnelles\";\n    history.push(url);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"societe\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"societe-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-arrow-left\",\n        onClick: RedirectionInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"La soci\\xE9t\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), restaurantOwner !== undefined ? /*#__PURE__*/_jsxDEV(EditFormSociete, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(UpdateFormSociete, {\n      restaurantOwner: restaurantOwner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Societe, \"lAwJU1d/ruzsq5LY00oEq0NOR08=\", false, function () {\n  return [useHistory];\n});\n\n_c = Societe;\nexport default Societe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Societe\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/societe/Societe.js"],"names":["React","useHistory","useEffect","useState","useForm","sendrequest","URL","ModalBootsrap","TextField","axios","UpdateFormSociete","EditFormSociete","initial","denomination","adresse_siege","code_postal_siege","ville_siege","SIRET_number","etablissement","adresse_etablissement","code_postal_etablissement","ville_etablissement","Societe","history","show","setShow","success","setSuccess","societe","setSociete","restaurantOwner","setRestaurantOwner","handleClose","handleShow","token","window","$token_access","email","$email_dirigeant","fetchRestaurantOwner","console","log","data","get","headers","Authorization","RedirectionInfo","url","push","undefined"],"mappings":"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","sourcesContent":["import React, { useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\nimport { sendrequest, URL } from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../modal/Modal\";\nimport { TextField } from \"@material-ui/core\";\n\nimport \"./societe.css\";\nimport axios from \"axios\";\n\nimport UpdateFormSociete from \"./UpdateFormSociete\";\nimport EditFormSociete from \"./EditFormSociete\";\nconst initial = {\n  denomination: \"\",\n  adresse_siege: \"\",\n  code_postal_siege: \"\",\n  ville_siege: \"\",\n  SIRET_number: \"\",\n  etablissement: \"\",\n  adresse_etablissement: \"\",\n  code_postal_etablissement: \"\",\n  ville_etablissement: \"\",\n};\nfunction Societe() {\n  const history = useHistory();\n\n  const [show, setShow] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [societe, setSociete] = useState([]);\n  const [restaurantOwner, setRestaurantOwner] = useState([]);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const token = window.$token_access;\n  const email = window.$email_dirigeant;\n\n  const fetchRestaurantOwner = async () => {\n    console.log(\"test-get\");\n    console.log(token);\n    const { data } = await axios.get(\n      \"https://markus-app.herokuapp.com/accounts/restaurantowner/?email=\" +\n        email,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    console.log(\"DEB\");\n    console.log(data);\n    setRestaurantOwner(data[0]);\n  };\n\n  useEffect(() => {\n    fetchRestaurantOwner();\n    return () => {\n      setRestaurantOwner([]);\n    };\n  }, []);\n\n  const RedirectionInfo = () => {\n    let url = \"/admin/mon-compte/infos-personnelles\";\n    history.push(url);\n  };\n\n  return (\n    <div className=\"societe\">\n      <div className=\"societe-header\">\n        <i className=\"fas fa-arrow-left\" onClick={RedirectionInfo}></i>\n        <h1>La société</h1>\n      </div>\n      {restaurantOwner !== undefined ? (\n        <EditFormSociete />\n      ) : (\n        <UpdateFormSociete restaurantOwner={restaurantOwner} />\n      )}\n    </div>\n  );\n}\nexport default Societe;\n"]},"metadata":{},"sourceType":"module"}