{"ast":null,"code":"import _objectSpread from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/christopher/Documents/Alter/GonakProject/gonak-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormHelperText from'@material-ui/core/FormHelperText';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';//import Carte from \"./Carte\";\nimport CartePage from'./CartePage';//import MenuType from \"../../Menu/MenuType\";\n//import Card from \"./Carte/card\";\nimport AddProductModal from\"./MyModal/AddProductModal\";import\"./index.css\";import axios from\"axios\";import{IconButton,Button}from\"@material-ui/core\";import DeleteIcon from'@material-ui/icons/Delete';import AddIcon from'@material-ui/icons/Add';import{URL,sendrequest}from\"../../../middlewares/request\";import SwitchBtn from\"../switch/SwitchBtn\";import TableCell from\"@material-ui/core/TableCell\";import{makeStyles}from\"@material-ui/core/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var proprietes=[\"Vos produits\",\"Disponibilité\"];var useStyles=makeStyles({heading:{width:\"100%\",fontWeight:\"bold\",textAlign:\"left\"},content:{fontWeight:\"bold\",fontSize:30},rowConfig:{borderWidth:3}});export default function GestionProduits(){var classes=useStyles();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),activeCarte=_useState4[0],setActiveCarte=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),datas=_useState6[0],setDatas=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),sideDishes=_useState8[0],setSideDishes=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),menuCategories=_useState10[0],setMenuCategories=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),dishesDisplayed=_useState12[0],setDishesDisplay=_useState12[1];// Booleans that will only allow the component to render when the requests have returned the datas\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isDataLoading=_useState14[0],setDataLoading=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isCategoryLoading=_useState16[0],setCategoryLoading=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),sideDishesLoading=_useState18[0],setSideDishesLoading=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),showProductModal=_useState20[0],setShowProductModal=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),show=_useState22[0],setShow=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),produit=_useState24[0],setProduit=_useState24[1];// activeCarte && (window.document.body.style.overflow = \"hidden\")\nactiveCarte?window.document.body.style.overflow=\"hidden\":window.document.body.style.overflow=\"auto\";var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://sendrequest(\"get\", \"letexan/produit/?accompagnement=true\", setSideDishes, setSideDishesLoading);\naxios.get(URL+\"gonak/produit/\").then(function(res){setDatas(res.data);console.log(res.data);});axios.get(URL+\"gonak/categorie/\").then(function(res){setMenuCategories(res.data);console.log(res.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);var openModal=function openModal(data){setProduit(data);while(produit===[]){//console.log(test);\n}console.log(\"TEST1\");console.log(produit);setShow(true);};var updateDisponibilite=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,disponibilite){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(URL+\"gonak/produit/\"+id+\"/\",{disponibilite:disponibilite});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function updateDisponibilite(_x,_x2){return _ref2.apply(this,arguments);};}();/*//Function that will check through if id of the selected menu item matches the one of 'Menu'. If so then we will want to display all of the datas, not just a selection.\n    const isMenu = () => {\n        for (var i = 0; i < menuCategories.length; i++) {\n            if (menuCategories[i].id === active && menuCategories[i].nom === \"Menus du Midi\") {\n                return datas;\n            }\n        }\n    };*/var selectDishesPerCategory=function selectDishesPerCategory(){//var menuDishes = isMenu();\nif(1!==1){}else{var selectedDishes=datas// We filter the data :\n.filter(function(data){console.log(data);// By only selecting the data that belongs to a category (categories is an array in which are the different categories to which a dish belongs) that matches the one selected by the user (var active)\nreturn data.categorie===active;/*for (var i = 0; i < data.categories.length; i++) {\n                      if (data.categories[i] === active) return true;\n                      return false;\n                    }*/})//Once filtered, we can go through the selection to display them\n.map(function(data){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",display:\"flex\",flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",margin:0},onClick:function onClick(){return openModal(data);},children:/*#__PURE__*/_jsx(CartePage,{idMenuPage:data.categorie,produit:data,show:show,setShow:setShow},data.categorie)}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"60px\",marginRight:\"5%\"},children:/*#__PURE__*/_jsx(SwitchBtn,{val:data.disponibilite,action:updateDisponibilite,item:data})})]}),/*#__PURE__*/_jsx(AddProductModal,_objectSpread(_objectSpread({},produit),{},{productToUpdate:produit,categorieId:active,show:show,setShow:setShow}))]});});return selectedDishes;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"commander__\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',width:\"100%\"},children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Categorie\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",variant:\"outlined\",size:\"small\",value:active,onChange:function onChange(e){setActive(e.target.value);setActiveCarte(false);setDishesDisplay(false);},children:menuCategories.map(function(categorie){return/*#__PURE__*/_jsx(MenuItem,{value:categorie.id,children:categorie.nom});})})]}),/*#__PURE__*/_jsx(Button,{id:\"ajouter_produit\",onClick:function onClick(){return setShowProductModal(true);},children:\" Ajouter Produit\"}),/*#__PURE__*/_jsx(AddProductModal,{categorieId:active,show:showProductModal,setShow:setShowProductModal})]}),proprietes.map(function(prop){return/*#__PURE__*/_jsx(TableCell,{className:classes.heading,align:\"center\",children:prop},prop);}),/*#__PURE__*/_jsx(\"div\",{className:\"commander__container\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"commander__container__cards\",children:selectDishesPerCategory()})})})]});};","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/gestionProduits/index.js"],"names":["useEffect","useState","InputLabel","MenuItem","FormHelperText","FormControl","Select","CartePage","AddProductModal","axios","IconButton","Button","DeleteIcon","AddIcon","URL","sendrequest","SwitchBtn","TableCell","makeStyles","proprietes","useStyles","heading","width","fontWeight","textAlign","content","fontSize","rowConfig","borderWidth","GestionProduits","classes","active","setActive","activeCarte","setActiveCarte","datas","setDatas","sideDishes","setSideDishes","menuCategories","setMenuCategories","dishesDisplayed","setDishesDisplay","isDataLoading","setDataLoading","isCategoryLoading","setCategoryLoading","sideDishesLoading","setSideDishesLoading","showProductModal","setShowProductModal","show","setShow","produit","setProduit","window","document","body","style","overflow","fetchData","get","then","res","data","console","log","openModal","updateDisponibilite","id","disponibilite","put","selectDishesPerCategory","selectedDishes","filter","categorie","map","display","flexDirection","margin","paddingTop","marginRight","e","target","value","nom","prop"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n//import Carte from \"./Carte\";\nimport CartePage from './CartePage';\n//import MenuType from \"../../Menu/MenuType\";\n//import Card from \"./Carte/card\";\nimport AddProductModal from \"./MyModal/AddProductModal\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { IconButton, Button } from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add';\nimport { URL, sendrequest } from \"../../../middlewares/request\";\nimport SwitchBtn from \"../switch/SwitchBtn\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n\n\nconst proprietes = [\"Vos produits\", \"Disponibilité\"];\n\nconst useStyles = makeStyles({\n  heading: {\n    width: \"100%\",\n    fontWeight: \"bold\",\n    textAlign: \"left\",\n    \n  },\n\n  content: {\n    fontWeight: \"bold\",\n    fontSize: 30,\n  },\n\n  rowConfig: {\n    borderWidth: 3,\n  },\n});\n\nexport default function GestionProduits () {\n    const classes = useStyles();\n    const [active, setActive] = useState(1);\n    const [activeCarte, setActiveCarte] = useState(true);\n    const [datas, setDatas] = useState([]);\n    const [sideDishes, setSideDishes] = useState([]);\n    const [menuCategories, setMenuCategories] = useState([]);\n    const [dishesDisplayed, setDishesDisplay] = useState(false);\n    // Booleans that will only allow the component to render when the requests have returned the datas\n    const [isDataLoading, setDataLoading] = useState(false);\n    const [isCategoryLoading, setCategoryLoading] = useState(false);\n    const [sideDishesLoading, setSideDishesLoading] = useState(false);\n    const [showProductModal, setShowProductModal] = useState(false);\n    const [show, setShow] = useState(false);\n    const [produit, setProduit] = useState([]);\n    // activeCarte && (window.document.body.style.overflow = \"hidden\")\n    activeCarte\n        ? (window.document.body.style.overflow = \"hidden\")\n        : (window.document.body.style.overflow = \"auto\");\n\n\n    const fetchData = async () => {\n        \n        //sendrequest(\"get\", \"letexan/produit/?accompagnement=true\", setSideDishes, setSideDishesLoading);\n        axios.get(URL + \"gonak/produit/\").then((res) => {\n          setDatas(res.data);\n          console.log(res.data);\n        });\n\n        axios.get(URL + \"gonak/categorie/\").then((res) => {\n          setMenuCategories(res.data);\n          console.log(res.data);\n        });\n    };\n\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const openModal = (data) =>{\n       \n        setProduit(data);\n        while(produit === []){\n            //console.log(test);\n        }\n        console.log(\"TEST1\");\n        console.log(produit);\n        setShow(true);\n\n    }\n\n    const updateDisponibilite = async (id, disponibilite) => {\n        await axios.put(URL + \"gonak/produit/\" + id +\"/\", {\n            disponibilite: disponibilite,\n        });\n    };\n\n    /*//Function that will check through if id of the selected menu item matches the one of 'Menu'. If so then we will want to display all of the datas, not just a selection.\n    const isMenu = () => {\n        for (var i = 0; i < menuCategories.length; i++) {\n            if (menuCategories[i].id === active && menuCategories[i].nom === \"Menus du Midi\") {\n                return datas;\n            }\n        }\n    };*/\n\n    const selectDishesPerCategory = () => {\n        //var menuDishes = isMenu();\n\n        if (1 !== 1) {\n            \n        } else {\n            const selectedDishes = datas\n                // We filter the data :\n                .filter((data) => {\n                    console.log(data);\n                    // By only selecting the data that belongs to a category (categories is an array in which are the different categories to which a dish belongs) that matches the one selected by the user (var active)\n                    return (\n                        data.categorie === active\n                    )\n\n\n                    /*for (var i = 0; i < data.categories.length; i++) {\n                      if (data.categories[i] === active) return true;\n                      return false;\n                    }*/\n                })\n                //Once filtered, we can go through the selection to display them\n                .map((data) => {\n                    return (\n                        <>\n                            <div \n                                style={{width: \"100%\", display: \"flex\", flexDirection: \"row\"}} \n                            >\n                              <div \n                                style={{width: \"100%\", margin: 0}} \n                                onClick={() => openModal(data)}>\n                                <CartePage \n                                    key={data.categorie} \n                                    idMenuPage={data.categorie}\n                                    produit={data}\n                                    show={show} \n                                    setShow={setShow} \n                                />\n                                </div>\n                                <div style={{paddingTop: \"60px\", marginRight: \"5%\"}}>\n                                    <SwitchBtn\n                                      val={data.disponibilite}\n                                      action={updateDisponibilite}\n                                      item={data}\n                                    />\n                                </div>\n                            </div>\n\n                            <AddProductModal \n                                {...produit} \n                                productToUpdate={produit} \n                                categorieId={active} \n                                show={show} \n                                setShow={setShow} ></AddProductModal>\n\n                            \n                        </>\n                    );\n                });\n            return selectedDishes;\n        }\n    };\n\n    return (\n        <div className='commander__'>\n            <div style={{ textAlign: 'center', width: \"100%\" }}>\n            \n                <FormControl >\n                    <InputLabel id=\"demo-simple-select-label\">Categorie</InputLabel>\n                    <Select\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={active}\n                    onChange={(e)=>{\n                        setActive(e.target.value);\n                        setActiveCarte(false);\n                        setDishesDisplay(false);\n                    }}\n                    >\n                        {menuCategories.map(categorie=>{\n                            return <MenuItem value={categorie.id}>{categorie.nom}</MenuItem>\n                        })}\n                    </Select>\n                </FormControl>\n            \n                <Button id=\"ajouter_produit\" onClick={() => setShowProductModal(true)} > Ajouter Produit</Button>\n                <AddProductModal categorieId={active} show={showProductModal} setShow={setShowProductModal} ></AddProductModal>\n            </div>\n\n            {proprietes.map((prop) => (\n                  <TableCell key={prop} className={classes.heading} align='center'>\n                    {prop}\n                  </TableCell>\n            ))}\n\n            <div className='commander__container'>\n            \n                    <>\n                        \n\n                        <div className='commander__container__cards'>\n                            {selectDishesPerCategory()}\n                        </div>\n\n                       \n                    </>\n      \n            </div>\n        </div>\n    );\n};\n\n"]},"metadata":{},"sourceType":"module"}