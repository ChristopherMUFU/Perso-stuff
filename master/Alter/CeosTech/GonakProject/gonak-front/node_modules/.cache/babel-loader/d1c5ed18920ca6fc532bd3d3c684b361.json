{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/societe/UpdateFormSociete.js\",\n    _s = $RefreshSig$();\n\nimport React, { useHistory } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\nimport { sendrequest } from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../../modal/Modal\";\nimport { TextField } from '@material-ui/core';\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\";\nimport './societe.css';\n/*const initial = {\n      nom: \"\",\n      prenom: \"\",\n      adresse_mail: \"\",\n      num_tel: \"\",\n      code_postal: \"\",\n      ville:\"\",\n      adresse:\"\",\n      poste_occupe:\"\",\n\n};*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UpdateFormSociete = ({\n  restaurantOwner\n}) => {\n  _s();\n\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [dirigeant, setDirigeant] = useState([]);\n  const [initState, setInitState] = useState([]);\n  const [infoRestaurant, setInfoRestaurant] = useState([]);\n  const [infoEntreprise, setInfoEntreprise] = useState([]);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const token = window.$token_access;\n  const email = window.$email_dirigeant;\n  const password_dir = window.$password_dirigeant;\n\n  const updateData = async () => {\n    const res = await axios.put(URL + \"accounts/restaurantowner/\" + restaurantOwner.id + \"/\", {\n      nom: restaurantOwner.nom,\n      prénom: restaurantOwner.prénom,\n      email: restaurantOwner.email,\n      phone_number: restaurantOwner.phone_number,\n      company_position: restaurantOwner.company_position,\n      restaurant: {\n        name: state.etablissement,\n        address: state.adresse_etablissement,\n        postal_code: state.code_postal_etablissement,\n        city: state.ville_etablissement,\n        phone_number: restaurantOwner.restaurant.phone_number\n      },\n      company: {\n        name: state.denomination,\n        address: state.adresse_siege,\n        postal_code: state.code_postal_siege,\n        city: state.ville_siege,\n        capital: restaurantOwner.company.capital,\n        SIRET_number: state.SIRET_number,\n        retirement_fund_name: restaurantOwner.company.retirement_fund_name,\n        retirement_fund_address: restaurantOwner.company.retirement_fund_address,\n        retirement_fund_city: restaurantOwner.company.retirement_fund_city,\n        retirement_fund_postal_code: restaurantOwner.company.retirement_fund_postal_code\n      },\n      user: {\n        //username: state.adresse_mail,\n        email: state.adresse_mail,\n        password: password_dir\n      }\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(result => {\n      console.log(result.data);\n    }); //console.log(res.data);\n  };\n\n  const estValide = (fieldValues = state) => {\n    const validator = {};\n    if (\"denomination\" in fieldValues) validator.denomination = state.denomination ? null : \"Le champ nom est obligatore\";\n    if (\"adresse_siege\" in fieldValues) validator.adresse_siege = state.adresse_siege ? null : \"Le champ prénom est obligatore\";\n    if (\"code_postal_siege\" in fieldValues) validator.code_postal_siege = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(code_postal_siege) ? null : \"Le code postal n'est pas valide\";\n    if (\"ville_siege\" in fieldValues) validator.ville_siege = state.ville_siege ? null : \"Le champ ville est obligatore\";\n    if (\"SIRET_number\" in fieldValues) validator.SIRET_number = /^[0-9]{14}$/.test(SIRET_number) ? null : \"Le numéro de SIRET n'est pas valide\";\n    if (\"etablissement\" in fieldValues) validator.etablissement = state.etablissement ? null : \"Le champ etablissement est obligatore\";\n    if (\"adresse_etablissement\" in fieldValues) validator.adresse_etablissement = state.adresse_etablissement ? null : \"Le champ adresse etablissement est obligatore\";\n    if (\"code_postal_etablissement\" in fieldValues) validator.code_postal_etablissement = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(code_postal_etablissement) ? null : \"Le code postal n'est pas valide\";\n    if (\"ville_etablissement\" in fieldValues) validator.ville_etablissement = state.ville_etablissement ? null : \"Le champ ville etablissement est obligatore\";\n    setErrors({ ...validator\n    }); // retourne boolean si et seulement si on passe un parametre pour la fonction\n\n    if (fieldValues === state) {\n      return Object.values(validator).every(el => !el);\n    }\n  };\n\n  const {\n    state,\n    handleInputChange,\n    errors,\n    setErrors,\n    reinitialiserState\n  } = useForm(initState, estValide);\n  const {\n    denomination,\n    adresse_siege,\n    ville_siege,\n    adresse_etablissement,\n    code_postal_siege,\n    SIRET_number,\n    etablissement,\n    code_postal_etablissement\n  } = state; //state.prenom = restaurantOwner.prénom\n  //Fonction permettant d'afficher les données récupérés\n  //contenant => input modifiable\n  //contenue => donnée à afficher\n\n  const preAffichage = contenant => {\n    if (contenant === undefined) {\n      state.denomination = restaurantOwner.company.name;\n      state.adresse_siege = restaurantOwner.company.address;\n      state.ville_siege = restaurantOwner.company.city;\n      state.SIRET_number = restaurantOwner.company.SIRET_number;\n      state.code_postal_siege = restaurantOwner.company.postal_code;\n      state.adresse_etablissement = restaurantOwner.restaurant.address;\n      state.ville_etablissement = restaurantOwner.restaurant.city;\n      state.etablissement = restaurantOwner.restaurant.name;\n      state.code_postal_etablissement = restaurantOwner.restaurant.postal_code;\n      console.log(contenant);\n      return state.denomination + \"\";\n    }\n\n    return contenant + \"\";\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (restaurantOwner === []) {\n      //reinitialiserState();\n      if (estValide()) {\n        sendrequest(\"put\", \"main/societe/\", null, null, state).then(response => {\n          if (response !== false && estValide()) {\n            setSuccess(true);\n            handleShow();\n          } else {\n            setSuccess(false);\n            handleShow();\n          }\n        });\n      }\n    } else {\n      updateData();\n      RedirectionInfo();\n    }\n  };\n\n  const RedirectionInfo = () => {\n    let url = \"/admin/mon-compte/infos-personnelles\";\n    history.push(url);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: restaurantOwner !== undefined && restaurantOwner.restaurant !== undefined ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"societe_container\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"D\\xE9nomination sociale\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          className: \"societe_input\",\n          name: \"denomination\",\n          value: preAffichage(state.denomination),\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.denomination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Adresse du si\\xE8ge social\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          className: \"societe_input\",\n          name: \"adresse_siege\",\n          value: preAffichage(state.adresse_siege),\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.adresse_siege\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_adresse\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societe_label\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Code postal\",\n            id: \"outlined-basic\",\n            variant: \"outlined\",\n            className: \"code_input\",\n            name: \"code_postal_siege\",\n            value: preAffichage(state.code_postal_siege),\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errors\",\n            children: errors.code_postal_siege\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societe_label\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Ville\",\n            id: \"outlined-basic\",\n            variant: \"outlined\",\n            className: \"ville_input\",\n            name: \"ville_siege\",\n            value: preAffichage(state.ville_siege),\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errors\",\n            children: errors.ville_siege\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"SIRET\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          type: \"number\",\n          className: \"societe_input\",\n          name: \"SIRET\",\n          value: preAffichage(state.SIRET_number),\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.SIRET_number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Etablissement (lieu de travail des salari\\xE9s)\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          className: \"societe_input\",\n          name: \"etablissement\",\n          value: preAffichage(state.etablissement),\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.etablissement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_label\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Adresse de l\\xE9tablissement\",\n          id: \"outlined-basic\",\n          variant: \"outlined\",\n          className: \"societe_input\",\n          name: \"adresse_etablissement\",\n          value: preAffichage(state.adresse_etablissement),\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errors\",\n          children: errors.adresse_etablissement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_adresse\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societe_label\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Code postal\",\n            id: \"outlined-basic\",\n            variant: \"outlined\",\n            className: \"code_input\",\n            name: \"code_postal_etablissement\",\n            value: preAffichage(state.code_postal_etablissement),\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errors\",\n            children: errors.code_postal_etablissement\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societe_label\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Ville\",\n            id: \"outlined-basic\",\n            variant: \"outlined\",\n            className: \"ville_input\",\n            name: \"ville_etablissement\",\n            value: preAffichage(state.ville_etablissement),\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errors\",\n            children: errors.code_postal_etablissement\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societe_button\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"registre_button\",\n          type: \"submit\",\n          children: \"Enregistrer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(ModalBootsrap, {\n        handleClose: handleClose,\n        show: show,\n        title: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [success ? \"Envoyé\" : \"Oups\", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `${success ? \" fas fa-thumbs-up\" : \" fas fa-thumbs-down\"}`,\n            style: {\n              color: \"#4caf50\",\n              marginLeft: \"1rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true),\n        children: success ? \"Enregistrement avec succès.\" : \"Une erreur s'est produite, veuillez réessayer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }, this) : null\n  }, void 0, false);\n};\n\n_s(UpdateFormSociete, \"yCx8Zgtdz5yy4q/6Kvuc1ktiUH0=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = UpdateFormSociete;\nexport default UpdateFormSociete;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateFormSociete\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/societe/UpdateFormSociete.js"],"names":["React","useHistory","useState","useEffect","useForm","sendrequest","ModalBootsrap","TextField","axios","URL","UpdateFormSociete","restaurantOwner","history","show","setShow","success","setSuccess","dirigeant","setDirigeant","initState","setInitState","infoRestaurant","setInfoRestaurant","infoEntreprise","setInfoEntreprise","handleClose","handleShow","token","window","$token_access","email","$email_dirigeant","password_dir","$password_dirigeant","updateData","res","put","id","nom","prénom","phone_number","company_position","restaurant","name","state","etablissement","address","adresse_etablissement","postal_code","code_postal_etablissement","city","ville_etablissement","company","denomination","adresse_siege","code_postal_siege","ville_siege","capital","SIRET_number","retirement_fund_name","retirement_fund_address","retirement_fund_city","retirement_fund_postal_code","user","adresse_mail","password","headers","then","result","console","log","data","estValide","fieldValues","validator","test","setErrors","Object","values","every","el","handleInputChange","errors","reinitialiserState","preAffichage","contenant","undefined","handleSubmit","e","preventDefault","response","RedirectionInfo","url","push","color","marginLeft"],"mappings":"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","sourcesContent":["import React, {useHistory} from \"react-router-dom\";\nimport  { useState, useEffect } from \"react\";\nimport useForm from \"../../../hooks/useForm\";\n import {sendrequest} from \"../../../middlewares/request\";\nimport ModalBootsrap from \"../../modal/Modal\";\nimport {TextField} from '@material-ui/core';\nimport axios from \"axios\";\nimport {URL} from \"../../../middlewares/request\";\n\nimport './societe.css'\n\n/*const initial = {\n      nom: \"\",\n      prenom: \"\",\n      adresse_mail: \"\",\n      num_tel: \"\",\n      code_postal: \"\",\n      ville:\"\",\n      adresse:\"\",\n      poste_occupe:\"\",\n\n};*/\n\nconst UpdateFormSociete = ({restaurantOwner}) => {\n\n    const history = useHistory();\n\n    const [show, setShow] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [dirigeant, setDirigeant] = useState([]);\n    const [initState, setInitState] = useState([]);\n    const [infoRestaurant, setInfoRestaurant] = useState([]);\n    const [infoEntreprise, setInfoEntreprise] = useState([]);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n\n    const token = window.$token_access;\n    const email = window.$email_dirigeant;\n    const password_dir = window.$password_dirigeant;\n\n\n    const updateData = async () => {\n       const res = await axios.put(\n                URL + \"accounts/restaurantowner/\" + restaurantOwner.id + \"/\"\n            ,{\n                nom: restaurantOwner.nom,\n                prénom: restaurantOwner.prénom,\n                email: restaurantOwner.email,\n                phone_number: restaurantOwner.phone_number,\n                company_position: restaurantOwner.company_position,\n                restaurant: {\n                    name: state.etablissement,\n                    address: state.adresse_etablissement,\n                    postal_code: state.code_postal_etablissement,\n                    city: state.ville_etablissement,\n                    phone_number: restaurantOwner.restaurant.phone_number\n                },\n                company: {\n                    name: state.denomination,\n                    address: state.adresse_siege,\n                    postal_code: state.code_postal_siege,\n                    city: state.ville_siege,\n                    capital: restaurantOwner.company.capital,\n                    SIRET_number: state.SIRET_number,\n\n                    retirement_fund_name: restaurantOwner.company.retirement_fund_name,\n                    retirement_fund_address: restaurantOwner.company.retirement_fund_address,\n                    retirement_fund_city: restaurantOwner.company.retirement_fund_city,\n                    retirement_fund_postal_code: restaurantOwner.company.retirement_fund_postal_code\n                },\n                user: {\n                    //username: state.adresse_mail,\n                    email: state.adresse_mail,\n                    password: password_dir\n                }\n            },\n            {\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            }\n      ).then((result) => {console.log(result.data)});\n\n      //console.log(res.data);\n\n    }\n\n\n\n      const estValide = (fieldValues = state) => {\n      const validator = {};\n\n       if (\"denomination\" in fieldValues)\n              validator.denomination = state.denomination ? null : \"Le champ nom est obligatore\";\n\n          if (\"adresse_siege\" in fieldValues)\n              validator.adresse_siege = state.adresse_siege ? null : \"Le champ prénom est obligatore\";\n\n          if (\"code_postal_siege\" in fieldValues)\n              validator.code_postal_siege = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(\n                  code_postal_siege\n              )\n                  ? null\n                  : \"Le code postal n'est pas valide\";\n\n\n          if (\"ville_siege\" in fieldValues)\n              validator.ville_siege = state.ville_siege ? null : \"Le champ ville est obligatore\";\n\n           if (\"SIRET_number\" in fieldValues)\n        validator.SIRET_number = /^[0-9]{14}$/.test(\n            SIRET_number\n        )\n            ? null\n            : \"Le numéro de SIRET n'est pas valide\";\n\n          if (\"etablissement\" in fieldValues)\n              validator.etablissement = state.etablissement ? null : \"Le champ etablissement est obligatore\";\n\n          if (\"adresse_etablissement\" in fieldValues)\n              validator.adresse_etablissement = state.adresse_etablissement ? null : \"Le champ adresse etablissement est obligatore\";\n\n          if (\"code_postal_etablissement\" in fieldValues)\n              validator.code_postal_etablissement = /^(([0-8][0-9])|(9[0-5]))[0-9]{3}$/.test(\n                  code_postal_etablissement\n              )\n                  ? null\n                  : \"Le code postal n'est pas valide\";\n\n          if (\"ville_etablissement\" in fieldValues)\n              validator.ville_etablissement = state.ville_etablissement ? null : \"Le champ ville etablissement est obligatore\";\n\n\n\n      setErrors({ ...validator });\n\n      // retourne boolean si et seulement si on passe un parametre pour la fonction\n      if (fieldValues === state) {\n        return Object.values(validator).every((el) => !el);\n      }\n    };\n\n\n     const {\n      state,\n      handleInputChange,\n      errors,\n      setErrors,\n      reinitialiserState,\n    } = useForm(initState, estValide);\n\n    const { denomination, adresse_siege, ville_siege,adresse_etablissement,code_postal_siege,SIRET_number, etablissement, code_postal_etablissement} = state\n\n    //state.prenom = restaurantOwner.prénom\n    //Fonction permettant d'afficher les données récupérés\n    //contenant => input modifiable\n    //contenue => donnée à afficher\n    const preAffichage = (contenant) => {\n        if(contenant === undefined){\n            state.denomination = restaurantOwner.company.name\n            state.adresse_siege = restaurantOwner.company.address\n            state.ville_siege = restaurantOwner.company.city\n            state.SIRET_number = restaurantOwner.company.SIRET_number\n            state.code_postal_siege = restaurantOwner.company.postal_code\n\n            state.adresse_etablissement = restaurantOwner.restaurant.address\n            state.ville_etablissement = restaurantOwner.restaurant.city\n            state.etablissement =  restaurantOwner.restaurant.name\n            state.code_postal_etablissement=restaurantOwner.restaurant.postal_code\n\n\n            console.log(contenant)\n            return state.denomination + \"\"\n        }\n        return contenant + \"\"\n\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if(restaurantOwner === []){\n            //reinitialiserState();\n            if (estValide()) {\n                sendrequest(\"put\", \"main/societe/\", null, null, state)\n                .then((response) => {\n                    if (response !== false && estValide()) {\n                        setSuccess(true);\n                        handleShow();\n                    } else {\n                        setSuccess(false);\n                        handleShow();\n                    }\n                })\n            }\n        }\n        else{\n            updateData();\n            RedirectionInfo();\n        }\n\n    };\n\n\n        const RedirectionInfo = () => {\n            let url = \"/admin/mon-compte/infos-personnelles\";\n            history.push(url);\n        }\n        return (\n        <>\n                {restaurantOwner !== undefined && restaurantOwner.restaurant !== undefined ?\n\n                    <form className=\"societe_container\" onSubmit={handleSubmit}>\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Dénomination sociale\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='societe_input'\n                            name='denomination'\n                            value={preAffichage(state.denomination)}\n                            onChange={handleInputChange}\n                            required/>\n                                <div className=\"errors\">{errors.denomination}</div>\n                        </div>\n\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Adresse du siège social\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='societe_input'\n                            name='adresse_siege'\n                            value={preAffichage(state.adresse_siege)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.adresse_siege}</div>\n                        </div>\n\n\n                    <div className='societe_adresse'>\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Code postal\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='code_input'\n                            name='code_postal_siege'\n                            value={preAffichage(state.code_postal_siege)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.code_postal_siege}</div>\n                        </div>\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Ville\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='ville_input'\n                            name='ville_siege'\n                            value={preAffichage(state.ville_siege)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.ville_siege}</div>\n                        </div>\n                    </div>\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"SIRET\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            type='number'\n                            className='societe_input'\n                            name='SIRET'\n                            value={preAffichage(state.SIRET_number)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.SIRET_number}</div>\n                        </div>\n\n\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Etablissement (lieu de travail des salariés)\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='societe_input'\n                            name='etablissement'\n                            value={preAffichage(state.etablissement)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.etablissement}</div>\n                        </div>\n\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Adresse de létablissement\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='societe_input'\n                            name='adresse_etablissement'\n                            value={preAffichage(state.adresse_etablissement)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.adresse_etablissement}</div>\n                        </div>\n\n                    <div className='societe_adresse'>\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Code postal\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='code_input'\n                            name='code_postal_etablissement'\n                            value={preAffichage(state.code_postal_etablissement)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.code_postal_etablissement}</div>\n                        </div>\n\n                        <div className='societe_label'>\n                        <TextField\n                            fullWidth\n                            label =\"Ville\"\n                            id=\"outlined-basic\"\n                            variant=\"outlined\"\n                            className='ville_input'\n                            name='ville_etablissement'\n                            value={preAffichage(state.ville_etablissement)}\n                            onChange={handleInputChange}\n                            required/>\n                            <div className=\"errors\">{errors.code_postal_etablissement}</div>\n                        </div>\n                    </div>\n\n                        <div className='societe_button'>\n                            <button className=\"registre_button\" type=\"submit\">Enregistrer</button>\n\n                        </div>\n                        <ModalBootsrap\n                            handleClose={handleClose}\n                            show={show}\n                            title={\n                                <>\n                                    {success ? \"Envoyé\" : \"Oups\"}\n                                    <i\n                                        className={\n                                            `${success ? \" fas fa-thumbs-up\" : \" fas fa-thumbs-down\"}`}\n                                        style={{color: \"#4caf50\", marginLeft: \"1rem\"}}></i>\n                                </>\n                            }>\n                            {success ? \"Enregistrement avec succès.\" : \"Une erreur s'est produite, veuillez réessayer.\"}\n                        </ModalBootsrap>\n\n\n\n                    </form>\n                    :null}\n            </>\n\n        );\n\n}\nexport default UpdateFormSociete;\n"]},"metadata":{},"sourceType":"module"}