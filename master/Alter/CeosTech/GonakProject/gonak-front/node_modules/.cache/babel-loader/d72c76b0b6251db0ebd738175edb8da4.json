{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/HistoriqueFacture/historiquefacture.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport FactureList from \"./FactureList\";\nimport \"./HistoriqueFacture.css\";\nimport { URL } from \"../../../middlewares/request\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HistoriqueFacture = () => {\n  _s();\n\n  const [factures, setFactures] = useState([]);\n  const [facturesFilter, setFacturesFilter] = useState([]);\n  const [isFilter, setIsFilter] = useState(false);\n\n  const fetchFactures = async () => {\n    const {\n      data\n    } = await axios.get(URL + \"comptabilite/facture/\");\n    console.log(data);\n    setFactures(data);\n  };\n\n  useEffect(() => {\n    fetchFactures();\n    console.log(facturesFilter);\n    return () => setFactures([]);\n  }, []);\n  const history = useHistory();\n\n  const faireRedirection = () => {\n    let url = \"/admin/Comptabilite/\";\n    history.push(url);\n  };\n\n  const [aujourdhui_ca, setAujourdhuiCa] = useState(null);\n  const [calendar, setCalendar] = useState(new Date().toLocaleDateString());\n  const [calendar_ca, setCalendarCa] = useState(null);\n  const aujourdhui = new Date().getTime(); //// 11/03/2021\n\n  const dateFormat = FactureList.date_achat; //const dateFormat= \"jj/mm/aaaa\"\n\n  const get_suivi_jour = async val => {\n    console.log(val);\n    const {\n      data\n    } = await axios.get(URL + \"comptabilite/facture/?date_achat=\" + val);\n    setFacturesFilter(data);\n    setIsFilter(true);\n  };\n\n  const get_ca_by_calendar = e => {\n    // console.log(e.target.valueAsNumber);\n    // console.log(e.target.valueAsDate);\n    // console.log(new Date(e.target.valueAsNumber).toDateString()); //// Tue Mar 09 2021\n    setCalendar(new Date(e.target.valueAsNumber).getTime());\n    let tmp = new Date(e.target.valueAsNumber).getTime(); //const { debut, fin } = get_time_debut_fin(new Date(e.target.valueAsNumber));\n\n    get_suivi_jour(tmp);\n  }; //  useEffect(() => {\n  //const { debut, fin } = get_time_debut_fin(new Date().getTime());\n  // get_suivi_jour(new Date().getTime());\n  //}, []);\n\n\n  const reset = () => {\n    //let url= \"admin/Comptabilite/facture-achats/HistoriqueFactures/\"\n    //window.location.href=url;\n    let currentPath = window.location.pathname;\n    history.replace(`${currentPath}/replace`);\n    setTimeout(() => {\n      history.replace(currentPath);\n    }, 0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dirigeant-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left\",\n          onClick: faireRedirection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Historique des factures\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suivi_activite__jour_exacte-calendrier\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Calendrier: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          onChange: get_ca_by_calendar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"historiqueCommande admin__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            textAlign: \"center\",\n            marginBottom: \"2rem\",\n            color: \"#04295d\"\n          },\n          children: factures.length ? \"Vos factures\" : \"Pas de factures\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), isFilter ? /*#__PURE__*/_jsxDEV(FactureList, {\n          factures: facturesFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(FactureList, {\n          factures: factures\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"res_button\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"reset_button\",\n          onClick: reset,\n          children: \"reinitialiser\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(HistoriqueFacture, \"NPBdHusMeJYxIMYKeYLGOZb7BIs=\", false, function () {\n  return [useHistory];\n});\n\n_c = HistoriqueFacture;\nexport default HistoriqueFacture;\n\nvar _c;\n\n$RefreshReg$(_c, \"HistoriqueFacture\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/GonakProject/gonak-front/src/components/admin/HistoriqueFacture/historiquefacture.js"],"names":["React","useHistory","axios","useEffect","useState","FactureList","URL","HistoriqueFacture","factures","setFactures","facturesFilter","setFacturesFilter","isFilter","setIsFilter","fetchFactures","data","get","console","log","history","faireRedirection","url","push","aujourdhui_ca","setAujourdhuiCa","calendar","setCalendar","Date","toLocaleDateString","calendar_ca","setCalendarCa","aujourdhui","getTime","dateFormat","date_achat","get_suivi_jour","val","get_ca_by_calendar","e","target","valueAsNumber","tmp","reset","currentPath","window","location","pathname","replace","setTimeout","textAlign","marginBottom","color","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,yBAAP;AACA,SAASC,GAAT,QAAoB,8BAApB;;;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAAA;;AAC9B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACM,cAAD,EAAiBC,iBAAjB,IAAsCP,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,KAAD,CAAxC;;AAEA,QAAMU,aAAa,GAAG,YAAY;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMb,KAAK,CAACc,GAAN,CAAUV,GAAG,GAAG,uBAAhB,CAAvB;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAN,IAAAA,WAAW,CAACM,IAAD,CAAX;AACD,GAJD;;AAMAZ,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,aAAa;AAEbG,IAAAA,OAAO,CAACC,GAAR,CAAYR,cAAZ;AAEA,WAAO,MAAMD,WAAW,CAAC,EAAD,CAAxB;AACD,GANQ,EAMN,EANM,CAAT;AAQA,QAAMU,OAAO,GAAGlB,UAAU,EAA1B;;AACA,QAAMmB,gBAAgB,GAAG,MAAM;AAC7B,QAAIC,GAAG,GAAG,sBAAV;AACAF,IAAAA,OAAO,CAACG,IAAR,CAAaD,GAAb;AACD,GAHD;;AAKA,QAAM,CAACE,aAAD,EAAgBC,eAAhB,IAAmCpB,QAAQ,CAAC,IAAD,CAAjD;AACA,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,IAAIuB,IAAJ,GAAWC,kBAAX,EAAD,CAAxC;AACA,QAAM,CAACC,WAAD,EAAcC,aAAd,IAA+B1B,QAAQ,CAAC,IAAD,CAA7C;AAEA,QAAM2B,UAAU,GAAG,IAAIJ,IAAJ,GAAWK,OAAX,EAAnB,CA7B8B,CA6BW;;AAEzC,QAAMC,UAAU,GAAG5B,WAAW,CAAC6B,UAA/B,CA/B8B,CAiC9B;;AAEA,QAAMC,cAAc,GAAG,MAAOC,GAAP,IAAe;AACpCnB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,GAAZ;AACA,UAAM;AAAErB,MAAAA;AAAF,QAAW,MAAMb,KAAK,CAACc,GAAN,CACrBV,GAAG,GAAG,mCAAN,GAA4C8B,GADvB,CAAvB;AAGAzB,IAAAA,iBAAiB,CAACI,IAAD,CAAjB;AACAF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAPD;;AASA,QAAMwB,kBAAkB,GAAIC,CAAD,IAAO;AAChC;AACA;AACA;AAEAZ,IAAAA,WAAW,CAAC,IAAIC,IAAJ,CAASW,CAAC,CAACC,MAAF,CAASC,aAAlB,EAAiCR,OAAjC,EAAD,CAAX;AACA,QAAIS,GAAG,GAAG,IAAId,IAAJ,CAASW,CAAC,CAACC,MAAF,CAASC,aAAlB,EAAiCR,OAAjC,EAAV,CANgC,CAOhC;;AACAG,IAAAA,cAAc,CAACM,GAAD,CAAd;AACD,GATD,CA5C8B,CAuD9B;AACA;AAEA;AACA;;;AACA,QAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAIC,WAAW,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAlC;AACA3B,IAAAA,OAAO,CAAC4B,OAAR,CAAiB,GAAEJ,WAAY,UAA/B;AACAK,IAAAA,UAAU,CAAC,MAAM;AACf7B,MAAAA,OAAO,CAAC4B,OAAR,CAAgBJ,WAAhB;AACD,KAFS,EAEP,CAFO,CAAV;AAGD,GARD;;AAUA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAiC,UAAA,OAAO,EAAEvB;AAA1C;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,SAAS,EAAC,wCAAf;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,QAAQ,EAAEiB;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eASE;AAAK,QAAA,SAAS,EAAC,qCAAf;AAAA,gCACE;AACE,UAAA,KAAK,EAAE;AACLY,YAAAA,SAAS,EAAE,QADN;AAELC,YAAAA,YAAY,EAAE,MAFT;AAGLC,YAAAA,KAAK,EAAE;AAHF,WADT;AAAA,oBAOG3C,QAAQ,CAAC4C,MAAT,GAAkB,cAAlB,GAAmC;AAPtC;AAAA;AAAA;AAAA;AAAA,gBADF,EAUGxC,QAAQ,gBACP,QAAC,WAAD;AAAa,UAAA,QAAQ,EAAEF;AAAvB;AAAA;AAAA;AAAA;AAAA,gBADO,gBAGP,QAAC,WAAD;AAAa,UAAA,QAAQ,EAAEF;AAAvB;AAAA;AAAA;AAAA;AAAA,gBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAyBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,cAAlB;AAAiC,UAAA,OAAO,EAAEkC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAmCD,CAzGD;;GAAMnC,iB;UAmBYN,U;;;KAnBZM,iB;AA2GN,eAAeA,iBAAf","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport FactureList from \"./FactureList\";\nimport \"./HistoriqueFacture.css\";\nimport { URL } from \"../../../middlewares/request\";\n\nconst HistoriqueFacture = () => {\n  const [factures, setFactures] = useState([]);\n  const [facturesFilter, setFacturesFilter] = useState([]);\n  const [isFilter, setIsFilter] = useState(false);\n\n  const fetchFactures = async () => {\n    const { data } = await axios.get(URL + \"comptabilite/facture/\");\n    console.log(data);\n    setFactures(data);\n  };\n\n  useEffect(() => {\n    fetchFactures();\n\n    console.log(facturesFilter);\n\n    return () => setFactures([]);\n  }, []);\n\n  const history = useHistory();\n  const faireRedirection = () => {\n    let url = \"/admin/Comptabilite/\";\n    history.push(url);\n  };\n\n  const [aujourdhui_ca, setAujourdhuiCa] = useState(null);\n  const [calendar, setCalendar] = useState(new Date().toLocaleDateString());\n  const [calendar_ca, setCalendarCa] = useState(null);\n\n  const aujourdhui = new Date().getTime(); //// 11/03/2021\n\n  const dateFormat = FactureList.date_achat;\n\n  //const dateFormat= \"jj/mm/aaaa\"\n\n  const get_suivi_jour = async (val) => {\n    console.log(val);\n    const { data } = await axios.get(\n      URL + \"comptabilite/facture/?date_achat=\" + val\n    );\n    setFacturesFilter(data);\n    setIsFilter(true);\n  };\n\n  const get_ca_by_calendar = (e) => {\n    // console.log(e.target.valueAsNumber);\n    // console.log(e.target.valueAsDate);\n    // console.log(new Date(e.target.valueAsNumber).toDateString()); //// Tue Mar 09 2021\n\n    setCalendar(new Date(e.target.valueAsNumber).getTime());\n    let tmp = new Date(e.target.valueAsNumber).getTime();\n    //const { debut, fin } = get_time_debut_fin(new Date(e.target.valueAsNumber));\n    get_suivi_jour(tmp);\n  };\n\n  //  useEffect(() => {\n  //const { debut, fin } = get_time_debut_fin(new Date().getTime());\n\n  // get_suivi_jour(new Date().getTime());\n  //}, []);\n  const reset = () => {\n    //let url= \"admin/Comptabilite/facture-achats/HistoriqueFactures/\"\n    //window.location.href=url;\n    let currentPath = window.location.pathname;\n    history.replace(`${currentPath}/replace`);\n    setTimeout(() => {\n      history.replace(currentPath);\n    }, 0);\n  };\n\n  return (\n    <>\n      <div className=\"main\">\n        <div className=\"dirigeant-header\">\n          <i className=\"fas fa-arrow-left\" onClick={faireRedirection}></i>\n          <h1>Historique des factures</h1>\n        </div>\n        <div className=\"suivi_activite__jour_exacte-calendrier\">\n          <label>Calendrier: </label>\n          <input type=\"date\" onChange={get_ca_by_calendar} />\n        </div>\n        <div className=\"historiqueCommande admin__container\">\n          <h1\n            style={{\n              textAlign: \"center\",\n              marginBottom: \"2rem\",\n              color: \"#04295d\",\n            }}\n          >\n            {factures.length ? \"Vos factures\" : \"Pas de factures\"}\n          </h1>\n          {isFilter ? (\n            <FactureList factures={facturesFilter} />\n          ) : (\n            <FactureList factures={factures} />\n          )}\n        </div>\n        <div className=\"res_button\">\n          <button className=\"reset_button\" onClick={reset}>\n            reinitialiser\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default HistoriqueFacture;\n"]},"metadata":{},"sourceType":"module"}