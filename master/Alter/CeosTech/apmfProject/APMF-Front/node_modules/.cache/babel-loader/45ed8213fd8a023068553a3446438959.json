{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/app/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Route, Switch, useRouteMatch, useHistory } from 'react-router-dom'; // react-redux\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getNews, getNewsState } from \"../../app/Redux-slices/newsSlice\"; // == Import\n\nimport Home from './Home';\nimport Header from './Header';\nimport Page from './Page';\nimport Footer from './Footer';\nimport Fabry from './Fabry';\nimport Association from './Association';\nimport Actualites from './Actualites';\nimport ActualitePage from './Actualites/ActualitePage';\nimport Partenaires from './Partenaires';\nimport NotFound from './NotFound';\nimport './styles.css';\nimport './base.css'; //Stripe\n\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst publicKey = \"pk_test_51JDrRDIbpxt7EjD8J1YiiQxZK01GsskEId9DBtuR3FKmV5wHkMjCq1Odhqxt02g8D4g4R9oe60HA92vl537fJmra007tMqc8XR\"; // == Composant\n// Since a lot of our pages share similar elements, we include them in the PAGE component that contains the similar elements\n\nconst Site = () => {\n  _s();\n\n  const {\n    path,\n    url\n  } = useRouteMatch();\n  const history = useHistory();\n  const dispatch = useDispatch(); // domLoaded : when the content is Loaded, we display if necessary the 404 page (otherwise, since the homepage takes som time to be displayed, the 404 would appear for a fraction of seconds before the hompage appears) Same for Footer.\n\n  const [domLoaded, setDomLoaded] = useState(false);\n  useEffect(() => {\n    setDomLoaded(true);\n  }, []); // This boolean indicates whether or not the API call has worked to get the 'Actualités', and if positive, allows the component Actualites to be displayed\n\n  const isNewsLoaded = useSelector(getNewsState).isNewsLoaded; // We send a GET request to the API and stock the result in the store\n  // We launch an action getNews => get data from API.\n  // We also set the page we are on\n\n  useEffect(() => {\n    dispatch(getNews());\n\n    if (window.location.pathname === \"/\") {\n      history.push(path + \"home\");\n    }\n  }, [dispatch, path, history]);\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: loadStripe(publicKey),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"site\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `home`,\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `fabry/:slug`,\n          component: ({\n            match\n          }) => /*#__PURE__*/_jsxDEV(Page, {\n            menuLink: \"fabry\",\n            slug: match.params.slug,\n            children: /*#__PURE__*/_jsxDEV(Fabry, {\n              menuLink: \"fabry\",\n              slug: match.params.slug\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `association/:slug`,\n          component: ({\n            match\n          }) => /*#__PURE__*/_jsxDEV(Page, {\n            menuLink: \"association\",\n            slug: match.params.slug,\n            children: /*#__PURE__*/_jsxDEV(Association, {\n              menuLink: \"association\",\n              slug: match.params.slug\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), isNewsLoaded && /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `actualites/:slug`,\n          component: ({\n            match\n          }) => /*#__PURE__*/_jsxDEV(Page, {\n            menuLink: \"actualites\",\n            slug: match.params.slug,\n            children: /*#__PURE__*/_jsxDEV(Actualites, {\n              menuLink: \"actualites\",\n              slug: match.params.slug\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), isNewsLoaded && /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `actualites/articles/:slug`,\n          component: ({\n            match\n          }) => /*#__PURE__*/_jsxDEV(ActualitePage, {\n            slug: match.params.slug\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: path + `partenaires-hopitaux/:slug`,\n          component: ({\n            match\n          }) => /*#__PURE__*/_jsxDEV(Page, {\n            menuLink: \"partenaires-hopitaux\",\n            slug: match.params.slug,\n            children: /*#__PURE__*/_jsxDEV(Partenaires, {\n              menuLink: \"partenaires-hopitaux\",\n              slug: match.params.slug\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), domLoaded && isNewsLoaded && /*#__PURE__*/_jsxDEV(Route, {\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), domLoaded && isNewsLoaded && /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Site, \"jvb8o2FMzLlXLeRavdp6wuCtKb0=\", false, function () {\n  return [useRouteMatch, useHistory, useDispatch, useSelector];\n});\n\n_c = Site;\nexport default Site;\n\nvar _c;\n\n$RefreshReg$(_c, \"Site\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/app/index.js"],"names":["React","useEffect","useState","Route","Switch","useRouteMatch","useHistory","useDispatch","useSelector","getNews","getNewsState","Home","Header","Page","Footer","Fabry","Association","Actualites","ActualitePage","Partenaires","NotFound","loadStripe","Elements","publicKey","Site","path","url","history","dispatch","domLoaded","setDomLoaded","isNewsLoaded","window","location","pathname","push","match","params","slug"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,KADF,EACSC,MADT,EACiBC,aADjB,EACgCC,UADhC,QAEO,kBAFP,C,CAIA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,YAAlB,QAAsC,kCAAtC,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,OAAO,cAAP;AACA,OAAO,YAAP,C,CAEA;;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,QAAT,QAAyB,yBAAzB;;AACA,MAAMC,SAAS,GAAC,6GAAhB,C,CAGA;AACA;;AACA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAgBrB,aAAa,EAAnC;AACA,QAAMsB,OAAO,GAAGrB,UAAU,EAA1B;AACA,QAAMsB,QAAQ,GAAGrB,WAAW,EAA5B,CAHiB,CAKjB;;AACA,QAAM,CAACsB,SAAD,EAAYC,YAAZ,IAA2B5B,QAAQ,CAAC,KAAD,CAAzC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd6B,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAFQ,EAEN,EAFM,CAAT,CAPiB,CAWjB;;AACA,QAAMC,YAAY,GAAGvB,WAAW,CAACE,YAAD,CAAX,CAA0BqB,YAA/C,CAZiB,CAcjB;AACA;AACA;;AACA9B,EAAAA,SAAS,CAAC,MAAM;AACd2B,IAAAA,QAAQ,CAACnB,OAAO,EAAR,CAAR;;AACA,QAAIuB,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,GAAjC,EAAqC;AACnCP,MAAAA,OAAO,CAACQ,IAAR,CAAaV,IAAI,GAAG,MAApB;AACD;AACF,GALQ,EAKN,CAACG,QAAD,EAAWH,IAAX,EAAiBE,OAAjB,CALM,CAAT;AASA,sBACE,QAAC,QAAD;AAAU,IAAA,MAAM,EAAEN,UAAU,CAACE,SAAD,CAA5B;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,MAAD;AAAA,gCAEE,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEE,IAAI,GAAI,MAFhB;AAAA,iCAII,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBAFF,eASE,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEA,IAAI,GAAI,aAFhB;AAGE,UAAA,SAAS,EAAE,CAAC;AAAEW,YAAAA;AAAF,WAAD,kBACT,QAAC,IAAD;AACE,YAAA,QAAQ,EAAE,OADZ;AAEE,YAAA,IAAI,EAAEA,KAAK,CAACC,MAAN,CAAaC,IAFrB;AAAA,mCAIE,QAAC,KAAD;AACE,cAAA,QAAQ,EAAE,OADZ;AAEE,cAAA,IAAI,EAAEF,KAAK,CAACC,MAAN,CAAaC;AAFrB;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBATF,eAyBE,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEb,IAAI,GAAI,mBAFhB;AAGE,UAAA,SAAS,EAAE,CAAC;AAAEW,YAAAA;AAAF,WAAD,kBACT,QAAC,IAAD;AACE,YAAA,QAAQ,EAAE,aADZ;AAEE,YAAA,IAAI,EAAEA,KAAK,CAACC,MAAN,CAAaC,IAFrB;AAAA,mCAIE,QAAC,WAAD;AACE,cAAA,QAAQ,EAAE,aADZ;AAEE,cAAA,IAAI,EAAEF,KAAK,CAACC,MAAN,CAAaC;AAFrB;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBAzBF,EAyCGP,YAAY,iBACX,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEN,IAAI,GAAI,kBAFhB;AAGE,UAAA,SAAS,EAAE,CAAC;AAAEW,YAAAA;AAAF,WAAD,kBACT,QAAC,IAAD;AACA,YAAA,QAAQ,EAAE,YADV;AAEA,YAAA,IAAI,EAAEA,KAAK,CAACC,MAAN,CAAaC,IAFnB;AAAA,mCAGE,QAAC,UAAD;AACE,cAAA,QAAQ,EAAE,YADZ;AAEE,cAAA,IAAI,EAAEF,KAAK,CAACC,MAAN,CAAaC;AAFrB;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBA1CJ,EA0DGP,YAAY,iBACX,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEN,IAAI,GAAI,2BAFhB;AAGE,UAAA,SAAS,EAAE,CAAC;AAAEW,YAAAA;AAAF,WAAD,kBACP,QAAC,aAAD;AACE,YAAA,IAAI,EAAEA,KAAK,CAACC,MAAN,CAAaC;AADrB;AAAA;AAAA;AAAA;AAAA;AAJN;AAAA;AAAA;AAAA;AAAA,gBA3DJ,eAsEE,QAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,IAAI,EAAEb,IAAI,GAAI,4BAFhB;AAGE,UAAA,SAAS,EAAE,CAAC;AAAEW,YAAAA;AAAF,WAAD,kBACT,QAAC,IAAD;AACA,YAAA,QAAQ,EAAE,sBADV;AAEA,YAAA,IAAI,EAAEA,KAAK,CAACC,MAAN,CAAaC,IAFnB;AAAA,mCAGE,QAAC,WAAD;AACE,cAAA,QAAQ,EAAE,sBADZ;AAEE,cAAA,IAAI,EAAEF,KAAK,CAACC,MAAN,CAAaC;AAFrB;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBAtEF,EAqFGT,SAAS,IAAIE,YAAb,iBACC,QAAC,KAAD;AAAO,UAAA,SAAS,EAAEX;AAAlB;AAAA;AAAA;AAAA;AAAA,gBAtFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,EA8FGS,SAAS,IAAIE,YAAb,iBACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cA/FJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAuGD,CAjID;;GAAMP,I;UACkBnB,a,EACNC,U,EACCC,W,EASIC,W;;;KAZjBgB,I;AAmIN,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Route, Switch, useRouteMatch, useHistory\n} from 'react-router-dom';\n\n// react-redux\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getNews, getNewsState } from \"../../app/Redux-slices/newsSlice\";\n\n// == Import\nimport Home from './Home';\nimport Header from './Header';\nimport Page from './Page';\nimport Footer from './Footer';\nimport Fabry from './Fabry';\nimport Association from './Association';\nimport Actualites from './Actualites';\nimport ActualitePage from './Actualites/ActualitePage';\nimport Partenaires from './Partenaires';\nimport NotFound from './NotFound';\n\nimport './styles.css';\nimport './base.css';\n\n//Stripe\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nconst publicKey=\"pk_test_51JDrRDIbpxt7EjD8J1YiiQxZK01GsskEId9DBtuR3FKmV5wHkMjCq1Odhqxt02g8D4g4R9oe60HA92vl537fJmra007tMqc8XR\";\n\n\n// == Composant\n// Since a lot of our pages share similar elements, we include them in the PAGE component that contains the similar elements\nconst Site = () => {\n  const { path, url } = useRouteMatch();\n  const history = useHistory();  \n  const dispatch = useDispatch();\n  \n  // domLoaded : when the content is Loaded, we display if necessary the 404 page (otherwise, since the homepage takes som time to be displayed, the 404 would appear for a fraction of seconds before the hompage appears) Same for Footer.\n  const [domLoaded, setDomLoaded]= useState(false);\n  useEffect(() => {    \n    setDomLoaded(true);\n  }, []);\n\n  // This boolean indicates whether or not the API call has worked to get the 'Actualités', and if positive, allows the component Actualites to be displayed\n  const isNewsLoaded = useSelector(getNewsState).isNewsLoaded;\n\n  // We send a GET request to the API and stock the result in the store\n  // We launch an action getNews => get data from API.\n  // We also set the page we are on\n  useEffect(() => {    \n    dispatch(getNews());\n    if (window.location.pathname === \"/\"){\n      history.push(path + \"home\");\n    }\n  }, [dispatch, path, history]);\n\n\n\n  return (\n    <Elements stripe={loadStripe(publicKey)}>\n      <div className=\"site\">\n        <Header />\n\n        <Switch>          \n          \n          <Route\n            exact\n            path={path + `home`}\n          >\n              <Home />\n          </Route>\n\n          <Route\n            exact\n            path={path + `fabry/:slug`}\n            component={({ match }) => (\n              <Page \n                menuLink= 'fabry'\n                slug={match.params.slug} \n              >\n                <Fabry \n                  menuLink= 'fabry'\n                  slug={match.params.slug} \n                />\n              </Page>\n            )}            \n          />\n\n          <Route\n            exact\n            path={path + `association/:slug`}\n            component={({ match }) => (\n              <Page\n                menuLink= 'association'\n                slug={match.params.slug} \n              >\n                <Association\n                  menuLink= 'association'\n                  slug={match.params.slug} \n                />\n              </Page>\n            )}            \n          />\n          \n          {isNewsLoaded && (\n            <Route\n              exact\n              path={path + `actualites/:slug`}\n              component={({ match }) => (\n                <Page\n                menuLink= 'actualites'\n                slug={match.params.slug} >\n                  <Actualites \n                    menuLink= 'actualites'\n                    slug={match.params.slug} \n                  />\n                </Page>\n              )}            \n            />\n          )}  \n          \n          {isNewsLoaded && (\n            <Route\n              exact\n              path={path + `actualites/articles/:slug`}\n              component={({ match }) => (\n                  <ActualitePage\n                    slug={match.params.slug} \n                  />\n              )}            \n            />\n          )}   \n\n          <Route\n            exact\n            path={path + `partenaires-hopitaux/:slug`}\n            component={({ match }) => (\n              <Page\n              menuLink= 'partenaires-hopitaux'\n              slug={match.params.slug} >\n                <Partenaires \n                  menuLink= 'partenaires-hopitaux'\n                  slug={match.params.slug} \n                />\n              </Page>\n            )}            \n          /> \n\n          {domLoaded && isNewsLoaded && (\n            <Route component={NotFound} />\n          )}\n\n        </Switch>\n\n        {domLoaded && isNewsLoaded && (\n          <Footer />\n        )}\n\n      </div>\n    </Elements>\n  );\n};\n\nexport default Site;"]},"metadata":{},"sourceType":"module"}