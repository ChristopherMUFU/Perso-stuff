{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/admin/gestionArticlesPublies/Article.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport \"./Article.css\";\nimport { Accordion, AccordionDetails, AccordionSummary, makeStyles } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport ExpandedIcon from \"../product/ExpandedIcon\";\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(16),\n    fontWeight: theme.typography.fontWeightMedium,\n    color: \"black\",\n    width: \"20%\"\n  },\n  table: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  accordion: {\n    marginTop: \"30px\",\n    position: \"relative\",\n    border: \"1px solid gray\"\n  },\n  p: {\n    fontWeight: \"bold\",\n    margin: 0,\n    width: \"20%\"\n  }\n}));\nexport default function Article({\n  article\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n\n  const handleEdit = () => {\n    history.push({\n      pathname: \"/admin/editer-article\",\n      state: {\n        articleToUpdate: article\n      }\n    });\n  };\n\n  const history = useHistory();\n  const val = article.id;\n\n  const deleteData = async () => {\n    axios.delete(URL + \"articles/\" + val);\n    let currentPath = window.location.pathname;\n    history.replace(`${currentPath}/replace`);\n    setTimeout(() => {\n      history.replace(currentPath);\n    }, 1000);\n  };\n\n  const date_article = new Date(article.date_publication).toLocaleDateString();\n  return /*#__PURE__*/_jsxDEV(Accordion, {\n    className: classes.accordion,\n    onChange: (e, expand) => setExpanded(expand),\n    children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\",\n      children: [!expanded ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.table,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.p,\n          children: article.titre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.p,\n          children: article.auteur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.p,\n          children: date_article\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ExpandedIcon, {\n        expanded: expanded,\n        setExpanded: setExpanded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__photo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"photo_fact\",\n            src: article.photo,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container darker\",\n          children: ReactHtmlParser(article.text)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), article.document && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: article.document,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            style: {\n              marginTop: \"1rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-file-pdf fa-3x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"t\\xE9l\\xE9charger le pdf\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginTop: \"1rem\"\n          },\n          children: new Date(article.date_publication).toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__button\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: article.photo_article,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            download: true,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"registre__button\",\n              onClick: () => {\n                handleEdit();\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-edit fa-2x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"supp_button\",\n            onClick: () => {\n              deleteData(article.id);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-trash-alt fa-2x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, article.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Article, \"RThgwk/Xazi02EgUjurNQNhQPLA=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Article;\n\nvar _c;\n\n$RefreshReg$(_c, \"Article\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/admin/gestionArticlesPublies/Article.js"],"names":["React","ReactHtmlParser","Accordion","AccordionDetails","AccordionSummary","makeStyles","useState","ExpandedIcon","axios","URL","useHistory","useStyles","theme","heading","fontSize","typography","pxToRem","fontWeight","fontWeightMedium","color","width","table","display","justifyContent","alignItems","accordion","marginTop","position","border","p","margin","Article","article","classes","expanded","setExpanded","handleEdit","history","push","pathname","state","articleToUpdate","val","id","deleteData","delete","currentPath","window","location","replace","setTimeout","date_article","Date","date_publication","toLocaleDateString","e","expand","titre","auteur","photo","text","document","flexDirection","toLocaleTimeString","photo_article"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport \"./Article.css\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport ExpandedIcon from \"../product/ExpandedIcon\";\nimport axios from \"axios\";\nimport { URL } from \"../../../middlewares/request\";\nimport { useHistory } from \"react-router\";\n\nconst useStyles = makeStyles((theme) => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(16),\n    fontWeight: theme.typography.fontWeightMedium,\n    color: \"black\",\n    width: \"20%\",\n  },\n  table: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n\n  accordion: {\n    marginTop: \"30px\",\n    position: \"relative\",\n    border: \"1px solid gray\",\n  },\n  p: {\n    fontWeight: \"bold\",\n    margin: 0,\n    width: \"20%\",\n  },\n}));\n\nexport default function Article({ article }) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n\n  const handleEdit = () => {\n    history.push({\n      pathname: \"/admin/editer-article\",\n      state: { articleToUpdate: article },\n    });\n  };\n\n  const history = useHistory();\n\n  const val = article.id;\n\n  const deleteData = async () => {\n    axios.delete(URL + \"articles/\" + val);\n    let currentPath = window.location.pathname;\n    history.replace(`${currentPath}/replace`);\n    setTimeout(() => {\n      history.replace(currentPath);\n    }, 1000);\n  };\n\n  const date_article = new Date(article.date_publication).toLocaleDateString();\n\n  return (\n    <Accordion\n      className={classes.accordion}\n      key={article.id}\n      onChange={(e, expand) => setExpanded(expand)}\n    >\n      <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n        {!expanded ? (\n          <div className={classes.table}>\n            <p className={classes.p}>{article.titre}</p>\n            <p className={classes.p}>{article.auteur}</p>\n            <p className={classes.p}>{date_article}</p>\n          </div>\n        ) : (\n          <div></div>\n        )}\n\n        <ExpandedIcon expanded={expanded} setExpanded={setExpanded} />\n      </AccordionSummary>\n      <AccordionDetails>\n        <div className=\"article__container\">\n          <div className=\"article__photo\">\n            <img className=\"photo_fact\" src={article.photo} alt=\"\" />\n          </div>\n          <div className=\"container darker\">\n            {ReactHtmlParser(article.text)}\n          </div>\n          {article.document && (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n              }}\n            >\n              <a\n                href={article.document}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{ marginTop: \"1rem\" }}\n              >\n                <i className=\"fas fa-file-pdf fa-3x\"></i>\n              </a>\n              <span>télécharger le pdf</span>\n            </div>\n          )}\n          <span style={{ marginTop: \"1rem\" }}>\n            {new Date(article.date_publication).toLocaleTimeString()}\n          </span>\n\n          <div className=\"article__button\">\n            <a\n              href={article.photo_article}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              download\n            >\n              <button\n                className=\"registre__button\"\n                onClick={() => {\n                  handleEdit();\n                }}\n              >\n                <i className=\"fas fa-edit fa-2x\"></i>\n              </button>\n            </a>\n            <button\n              className=\"supp_button\"\n              onClick={() => {\n                deleteData(article.id);\n              }}\n            >\n              <i className=\"far fa-trash-alt fa-2x\"></i>\n            </button>\n          </div>\n        </div>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}