{"ast":null,"code":"var _jsxFileName = \"/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/app/Actualites/JournalFabry/index.js\",\n    _s = $RefreshSig$();\n\nimport './styles.css';\nimport React, { useState, useEffect } from \"react\";\nimport { sendrequest } from \"../../../../middlewares/request\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Pagination from \"react-js-pagination\"; // import hook\n\nimport usePagination from '../../../../hooks/usePagination';\nimport parse from 'html-react-parser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    '& > *': {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\nconst ItemsCountPerPage = 4;\n\nconst JournalFabry = () => {\n  _s();\n\n  const [bounds, setBounds] = useState([0, ItemsCountPerPage]);\n  const [activePage, setActivePage] = useState(1);\n\n  const handlePageChange = pageNumber => {\n    setActivePage(pageNumber);\n    setBounds([(pageNumber - 1) * ItemsCountPerPage, pageNumber * ItemsCountPerPage]);\n    window.scrollTo(0, 0);\n  };\n\n  const classes = useStyles();\n  const [journaux, setJournaux] = useState([]);\n  const [journauxLoaded, setJournauxLoaded] = useState(false); //Maximum number of item per page\n\n  const dataLimit = 4; //Maximum number of page number per pagination\n\n  const pageLimit = 5; // hook pagination\n\n  const {\n    pages,\n    currentPage,\n    goToNextPage,\n    goToPreviousPage,\n    changePage,\n    getPaginatedData,\n    getPaginationGroup\n  } = usePagination(journaux, dataLimit, pageLimit);\n  useEffect(() => {\n    getJournaux();\n  }, []); //get API sur https://apmf-siteweb.herokuapp.com/journaux/\n\n  const getJournaux = async () => {\n    try {\n      // Send the request\n      const response = await sendrequest('GET', 'journaux/');\n      const journauxData = [...response['data']];\n      setJournaux(journauxData);\n      setJournauxLoaded(true);\n    } catch (e) {\n      setJournauxLoaded(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"journalFabry-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [journaux.length !== 0 && journauxLoaded && //show the posts, a certain number (dataLimits) of posts at a time\n      journaux.slice(bounds[0], bounds[1]).map(journal => /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 5,\n        className: \"journalFabry-Item\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: journal.photo,\n            alt: \"fabry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\" \", journal.titre, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"actualite-text-Download\",\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: journal.journal,\n                target: \"_blank\",\n                children: \"T\\xE9l\\xE9charger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 76\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Journal-text\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", parse(journal.text), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }, this)), journaux.length === 0 && journauxLoaded && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Nous sommes d\\xE9sol\\xE9s, nous n'avons aucun journal de Fabry en ligne pour l'instant, revenez bient\\xF4t !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), journaux.length !== 0 && journauxLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Paginate\",\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginBottom: \"2rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          activePage: activePage,\n          itemsCountPerPage: ItemsCountPerPage\n          /*{bounds[1] - bounds[0] + 1}*/\n          ,\n          totalItemsCount: journaux.length,\n          pageRangeDisplayed: ItemsCountPerPage,\n          onChange: handlePageChange,\n          itemClass: \"page-item\",\n          linkClass: \"page-link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(JournalFabry, \"9pVdm4TNWqWL6tovzJkqRkDP++4=\", false, function () {\n  return [useStyles, usePagination];\n});\n\n_c = JournalFabry;\nexport default JournalFabry;\n\nvar _c;\n\n$RefreshReg$(_c, \"JournalFabry\");","map":{"version":3,"sources":["/home/christopher/Documents/Alter/apmfProject/APMF-Front/src/components/app/Actualites/JournalFabry/index.js"],"names":["React","useState","useEffect","sendrequest","makeStyles","Grid","Pagination","usePagination","parse","useStyles","theme","root","flexGrow","marginTop","spacing","ItemsCountPerPage","JournalFabry","bounds","setBounds","activePage","setActivePage","handlePageChange","pageNumber","window","scrollTo","classes","journaux","setJournaux","journauxLoaded","setJournauxLoaded","dataLimit","pageLimit","pages","currentPage","goToNextPage","goToPreviousPage","changePage","getPaginatedData","getPaginationGroup","getJournaux","response","journauxData","e","length","slice","map","journal","photo","titre","text","textAlign","display","justifyContent","marginBottom"],"mappings":"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","sourcesContent":["import './styles.css';\nimport React, { useState, useEffect } from \"react\";\nimport { sendrequest } from \"../../../../middlewares/request\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Pagination from \"react-js-pagination\";\n\n// import hook\nimport usePagination from '../../../../hooks/usePagination';\n\nimport parse from 'html-react-parser';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    '& > *': {\n        marginTop: theme.spacing(2),\n      },\n  },\n}));\n\nconst ItemsCountPerPage = 4;\n\nconst JournalFabry = () => {\n    const [bounds, setBounds] = useState([0, ItemsCountPerPage]);\n    const [activePage, setActivePage] = useState(1);\n\n    const handlePageChange = (pageNumber) => {\n        setActivePage(pageNumber);\n        setBounds([\n          (pageNumber - 1) * ItemsCountPerPage,\n          pageNumber * ItemsCountPerPage,\n        ]);\n        window.scrollTo(0, 0);\n      };\n\n\n\n    const classes = useStyles();\n    const [journaux, setJournaux] = useState([]);\n    const [journauxLoaded, setJournauxLoaded] = useState(false);\n\n    //Maximum number of item per page\n    const dataLimit = 4;\n\n    //Maximum number of page number per pagination\n    const pageLimit = 5;\n\n    // hook pagination\n    const { \n        pages,\n        currentPage,\n        goToNextPage,\n        goToPreviousPage,\n        changePage,\n        getPaginatedData,\n        getPaginationGroup \n    } = usePagination(journaux, dataLimit, pageLimit);\n   \n    useEffect(() => {\n       getJournaux();\n      }, []);\n\n    //get API sur https://apmf-siteweb.herokuapp.com/journaux/\n    const getJournaux = async () => {\n        try {\n            // Send the request\n            const response = await sendrequest('GET', 'journaux/');\n            const journauxData = [...response['data']];\n            setJournaux(journauxData);\n            setJournauxLoaded(true);\n        } catch (e) {\n            setJournauxLoaded(true);\n        }\n    }\n\n    return (\n        <div id=\"journalFabry-page\">\n            <div className={classes.root}>\n\n                {journaux.length !== 0 && journauxLoaded &&\n                    //show the posts, a certain number (dataLimits) of posts at a time\n                    journaux.slice(bounds[0], bounds[1]).map((journal) => (\n                            <Grid container spacing={5} className=\"journalFabry-Item\">\n                                <Grid item xs={12} sm={12} md={6}>\n                                    <img src={journal.photo} alt=\"fabry\"></img>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={6}>\n                                    <h4> {journal.titre} </h4>\n                                    <br></br>\n                                    <p className=\"actualite-text-Download\"><u> \n                                        <a\n                                            href={journal.journal}\n                                            target=\"_blank\"\n                                        > \n                                            Télécharger\n                                        </a> \n                                    </u></p>\n                                    <br></br>\n                                    <div className=\"Journal-text\">\n                                        <p> {parse(journal.text)} </p>\n                                    </div>\n                                </Grid>\n                            </Grid>\n                    ))\n                }  \n                    \n                {journaux.length === 0 && journauxLoaded && (\n                    <p style={{textAlign: \"center\"}}>Nous sommes désolés, nous n'avons aucun journal de Fabry en ligne pour l'instant, revenez bientôt !</p>\n                )}\n\n\n                   {/* \n                   //show the pagination\n                    //it consists of next and previous buttons\n                    //along with page numbers, in our case, 5 page\n                    //numbers at a time\n                   */} \n               \n                {journaux.length !== 0 && journauxLoaded && (                    \n\n                \n                    <div\n                    className=\"Paginate\"\n                        style={{\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            marginBottom: \"2rem\",\n                        }}\n                    >\n\n                        <Pagination\n                            activePage={activePage}\n                            itemsCountPerPage={\n                                ItemsCountPerPage\n                            } /*{bounds[1] - bounds[0] + 1}*/\n                            totalItemsCount={journaux.length}\n                            pageRangeDisplayed={ItemsCountPerPage}\n                            onChange={handlePageChange}\n                            itemClass=\"page-item\"\n                            linkClass=\"page-link\"\n                        />\n                    </div>\n\n                )}\n        </div>\n          \n        </div>\n    )\n}\n\nexport default JournalFabry;"]},"metadata":{},"sourceType":"module"}